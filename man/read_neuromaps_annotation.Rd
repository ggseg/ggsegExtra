% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/read-write.R
\name{read_neuromaps_annotation}
\alias{read_neuromaps_annotation}
\title{Read neuromaps annotation files}
\usage{
read_neuromaps_annotation(gifti_files, label_table = NULL, n_bins = NULL)
}
\arguments{
\item{gifti_files}{Character vector of paths to \code{.func.gii} files.
Hemisphere is detected from BIDS filename patterns (\code{hemi-L}, \code{hemi-R}).}

\item{label_table}{Optional data.frame mapping integer parcel IDs to
region names. Must have columns \code{id} (integer) and \code{region} (character).
Optionally include \code{colour} (hex string). When \code{NULL}, regions are
named \code{parcel_1}, \code{parcel_2}, etc. (parcellation) or
\code{bin_1}, \code{bin_2}, etc. (continuous).}

\item{n_bins}{Number of quantile bins for continuous data. When \code{NULL}
(default), auto-detected via Sturges' rule (\code{1 + log2(n)}, clamped
to 5â€“20). Ignored for integer parcellation data.}
}
\value{
A tibble with columns: hemi, region, label, colour, vertices
}
\description{
Reads neuromaps GIFTI metric files (\code{.func.gii}) and converts them to
the standard annotation format used by the cortical atlas pipeline.
}
\details{
Automatically detects whether data contains integer parcel IDs
(parcellation) or continuous values (brain map). For parcellations,
vertex value 0 is treated as medial wall. For continuous data, NaN
vertices are medial wall and values are discretized into quantile
bins via \code{n_bins}.

Files must be in fsaverage5 space (10,242 vertices per hemisphere).
Use \code{space = "fsaverage"} with \code{density = "10k"} when fetching from
neuromaps.
}
\examples{
\dontrun{
files <- neuromapr::fetch_neuromaps_annotation(
  "abagen", "genepc1", "fsaverage", density = "10k"
)
atlas_data <- read_neuromaps_annotation(files, n_bins = 7)
}
}
