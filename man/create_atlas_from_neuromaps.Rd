% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/atlas-cortical.R
\name{create_atlas_from_neuromaps}
\alias{create_atlas_from_neuromaps}
\title{Create cortical atlas from a neuromaps annotation}
\usage{
create_atlas_from_neuromaps(
  source,
  desc,
  space = "fsaverage",
  density = "10k",
  label_table = NULL,
  atlas_name = NULL,
  output_dir = NULL,
  hemisphere = c("rh", "lh"),
  views = c("lateral", "medial", "superior", "inferior"),
  tolerance = NULL,
  smoothness = NULL,
  snapshot_dim = NULL,
  cleanup = NULL,
  verbose = get_verbose(),
  skip_existing = NULL,
  steps = NULL
)
}
\arguments{
\item{source}{Neuromaps source identifier (e.g., \code{"schaefer"}).
See \code{\link[ggseg.hub:neuromaps_available]{ggseg.hub::neuromaps_available()}} for options.}

\item{desc}{Neuromaps descriptor key (e.g., \code{"400Parcels7Networks"}).}

\item{space}{Coordinate space. Defaults to \code{"fsaverage"}.}

\item{density}{Surface vertex density. Defaults to \code{"10k"}
(fsaverage5, 10,242 vertices).}

\item{label_table}{Optional data.frame mapping parcel IDs to region
names. Must have columns \code{id} (integer) and \code{region} (character).
Optionally include \code{colour} (hex string). When \code{NULL}, regions are
named \code{parcel_1}, \code{parcel_2}, etc.}

\item{atlas_name}{Name for the atlas. If NULL, derived from the input
filename.}

\item{output_dir}{Directory to store intermediate files (screenshots, masks,
contours). Defaults to \code{\link[=tempdir]{tempdir()}}.}

\item{hemisphere}{Which hemispheres to include: "lh", "rh", or both.}

\item{views}{Which views to include: "lateral", "medial",
"superior", "inferior".}

\item{tolerance}{Simplification tolerance for 2D polygons. Higher values
produce simpler shapes with fewer vertices. Passed to \code{\link[sf:geos_unary]{sf::st_simplify()}}.
If not specified, uses \code{options("ggsegExtra.tolerance")} or the
\code{GGSEGEXTRA_TOLERANCE} environment variable. Default is 0 (no simplification).}

\item{smoothness}{Smoothing factor for 2D contours. Higher values produce
smoother region boundaries. Passed to \code{\link[smoothr:smooth]{smoothr::smooth()}}. If not
specified, uses \code{options("ggsegExtra.smoothness")} or the
\code{GGSEGEXTRA_SMOOTHNESS} environment variable. Default is 5.}

\item{snapshot_dim}{Width and height (in pixels) for brain surface
snapshots. Higher values capture more detail for dense parcellations.
If not specified, uses \code{options("ggsegExtra.snapshot_dim")} or the
\code{GGSEGEXTRA_SNAPSHOT_DIM} environment variable. Default is 800.}

\item{cleanup}{Remove intermediate files after atlas creation. If not
specified, uses \code{options("ggsegExtra.cleanup")} or the \code{GGSEGEXTRA_CLEANUP}
environment variable. Default is TRUE.}

\item{verbose}{Logical. If not specified, uses the value from
\code{options("ggsegExtra.verbose")} or the \code{GGSEGEXTRA_VERBOSE}
environment variable. Defaults to \code{TRUE}.
Use \code{options(ggsegExtra.verbose = FALSE)} to suppress output globally.}

\item{skip_existing}{Skip generating output files that already exist,
allowing interrupted atlas creation to resume. If not specified, uses
\code{options("ggsegExtra.skip_existing")} or the \code{GGSEGEXTRA_SKIP_EXISTING}
environment variable. Default is TRUE.}

\item{steps}{Which pipeline steps to run. See \code{\link[=create_cortical_atlas]{create_cortical_atlas()}}
for step descriptions. Use \code{steps = 1} for 3D-only atlas.}
}
\value{
A \code{ggseg_atlas} object.
}
\description{
\ifelse{html}{\href{https://lifecycle.r-lib.org/articles/stages.html#experimental}{\figure{lifecycle-experimental.svg}{options: alt='[Experimental]'}}}{\strong{[Experimental]}}

Build a brain atlas directly from a \href{https://github.com/netneurolab/neuromaps}{neuromaps} annotation. The annotation
is downloaded via \code{\link[ggseg.hub:fetch_neuromaps_annotation]{ggseg.hub::fetch_neuromaps_annotation()}} and must
contain integer parcel IDs (parcellation map). Vertex value 0 is
treated as medial wall.

Defaults to fsaverage5 surface space (\code{space = "fsaverage"},
\code{density = "10k"}, 10,242 vertices per hemisphere). No FreeSurfer
installation is needed for 3D-only atlases (\code{steps = 1}).
}
\examples{
\dontrun{
atlas <- create_atlas_from_neuromaps(
  source = "schaefer",
  desc = "400Parcels7Networks",
  steps = 1
)
ggseg3d::ggseg3d(atlas = atlas)
}
}
