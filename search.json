[{"path":"https://ggseg.github.io/ggsegExtra/CODE_OF_CONDUCT.html","id":null,"dir":"","previous_headings":"","what":"Contributor Code of Conduct","title":"Contributor Code of Conduct","text":"contributors maintainers project, pledge respect people contribute reporting issues, posting feature requests, updating documentation, submitting pull requests patches, activities. committed making participation project harassment-free experience everyone, regardless level experience, gender, gender identity expression, sexual orientation, disability, personal appearance, body size, race, ethnicity, age, religion. Examples unacceptable behavior participants include use sexual language imagery, derogatory comments personal attacks, trolling, public private harassment, insults, unprofessional conduct. Project maintainers right responsibility remove, edit, reject comments, commits, code, wiki edits, issues, contributions aligned Code Conduct. Project maintainers follow Code Conduct may removed project team. Instances abusive, harassing, otherwise unacceptable behavior may reported opening issue contacting one project maintainers. Code Conduct adapted Contributor Covenant (https://www.contributor-covenant.org), version 1.0.0, available https://contributor-covenant.org/version/1/0/0/.","code":""},{"path":"https://ggseg.github.io/ggsegExtra/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2018 Athanasia Mowinckel & Didac Vidal Pineiro Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://ggseg.github.io/ggsegExtra/articles/createaseg.html","id":"prerequisites","dir":"Articles","previous_headings":"","what":"Prerequisites","title":"Example creation: the aseg subcortical atlas","text":"successfully run operations, must following installed system, running either Linux Mac. - FSL - FreeSurfer - R - ImageMagick - orca Initiate R script following library calls:","code":"library(ggsegExtra) library(ggseg) library(ggseg3d) library(tidyverse) # for cleaning the atlas data efficiently"},{"path":[]},{"path":"https://ggseg.github.io/ggsegExtra/articles/createaseg.html","id":"the-template-file","dir":"Articles","previous_headings":"Creating a 3d atlas","what":"The template file","title":"Example creation: the aseg subcortical atlas","text":"Sub-cortical segmentations usually stored volumetric images .mgz extension. usually also include cortex, white matter CSF. volumetric segmentations may contain segmentations cortex sub-cortex. template, recommend making version cortex one large segmentation, rather create separate cortical atlas.","code":""},{"path":"https://ggseg.github.io/ggsegExtra/articles/createaseg.html","id":"the-3d-atlas","dir":"Articles","previous_headings":"Creating a 3d atlas","what":"The 3d atlas","title":"Example creation: the aseg subcortical atlas","text":"assume volumetric image FreeSurfer subject, specifically registered “fsaverage5” subject, good balance number vertices details. need register volume “fsaverage5”, FreeSurfer tools help , set function R. suggestions know easy command , let us know issues can try implementing solution . turn volumetric image ggseg3d-atlas, use function make_volumetric_2_3datlas. call series FreeSurfer functions create ascii ply files mesh plots. function creates several intermediary files saved output_dir specified.","code":"# Make  3d ---- aseg2_3d <- make_volumetric_2_3datlas(   subject = \"fsaverage5\",   subjects_dir = freesurfer::fs_subj_dir(),   template = file.path(freesurfer::fs_subj_dir(), \"fsaverage5/mri/aseg.mgz\"),   output_dir = \"~/Desktop/aseg\" ) ggseg3d(atlas = aseg2_3d) aseg2_3d # A tibble: 1 x 4   atlas   surf  hemi              ggseg_3d   <chr>   <chr> <chr>   <list<tbl_df[,5]>> 1 aseg_3d LCBC  subcort           [43 × 5]"},{"path":"https://ggseg.github.io/ggsegExtra/articles/createaseg.html","id":"cleaning-the-atlas-data","dir":"Articles","previous_headings":"Creating a 3d atlas","what":"Cleaning the atlas data","title":"Example creation: the aseg subcortical atlas","text":"atlas data usually needs manual editing get nice shape users, nice plotting. avid tidyverse users, procedures use clean data use tidyverse functions. First, unnest ggseg_3d column, can see atlas data contains. Usually, region column want cleaning , make names regions human readable. column populated names region specified template file. can inspect unique values column, can start setting logic renaming regions. region names atlas mainly need white space -certain words make names readable. instance, dashes (-) can replaced white space. ’ll try see patterns can easily alter names look nicer. satisfied region names, also alter atlas name data, something little pleasing. note, stage, can also add columns importance atlas. long conflict terms names default atlas columns, can add many extra columns wish. instance, atlas based connectivity, might nested structure regions, certain regions together form specific network. Adding network column specifying regions belong network appropriate. data include much though! see sub-cortical structures entire cortex way. delete unnecessary meshes whole data, left sub-cortical structures.","code":"unnest(aseg2_3d, ggseg_3d) # A tibble: 43 x 8    atlas   surf  hemi    region                       colour  label                        roi   mesh    <chr>   <chr> <chr>   <chr>                        <chr>   <chr>                        <chr> <list>  1 aseg_3d LCBC  subcort Left-Cerebral-White-Matter   #F5F5F5 Left-Cerebral-White-Matter   0002  <named list [2]>  2 aseg_3d LCBC  subcort Left-Cerebral-Cortex         #CD3E4E Left-Cerebral-Cortex         0003  <named list [2]>  3 aseg_3d LCBC  subcort Left-Lateral-Ventricle       #781286 Left-Lateral-Ventricle       0004  <named list [2]>  4 aseg_3d LCBC  subcort Left-Inf-Lat-Vent            #C43AFA Left-Inf-Lat-Vent            0005  <named list [2]>  5 aseg_3d LCBC  subcort Left-Cerebellum-White-Matter #DCF8A4 Left-Cerebellum-White-Matter 0007  <named list [2]>  6 aseg_3d LCBC  subcort Left-Cerebellum-Cortex       #E69422 Left-Cerebellum-Cortex       0008  <named list [2]>  7 aseg_3d LCBC  subcort Left-Thalamus-Proper         #00760E Left-Thalamus-Proper         0010  <named list [2]>  8 aseg_3d LCBC  subcort Left-Caudate                 #7ABADC Left-Caudate                 0011  <named list [2]>  9 aseg_3d LCBC  subcort Left-Putamen                 #EC0DB0 Left-Putamen                 0012  <named list [2]> 10 aseg_3d LCBC  subcort Left-Pallidum                #0C30FF Left-Pallidum                0013  <named list [2]> # … with 33 more rows unnest(aseg2_3d, ggseg_3d) |>   select(region) |>   unique() |>   unlist() region1                         region2                         region3                         region4    \"Left-Cerebral-White-Matter\"          \"Left-Cerebral-Cortex\"        \"Left-Lateral-Ventricle\"             \"Left-Inf-Lat-Vent\"                         region5                         region6                         region7                         region8  \"Left-Cerebellum-White-Matter\"        \"Left-Cerebellum-Cortex\"          \"Left-Thalamus-Proper\"                  \"Left-Caudate\"                         region9                        region10                        region11                        region12                  \"Left-Putamen\"                 \"Left-Pallidum\"                 \"3rd-Ventricle\"                 \"4th-Ventricle\"                        region13                        region14                        region15                        region16                    \"Brain-Stem\"              \"Left-Hippocampus\"                 \"Left-Amygdala\"                           \"CSF\"                        region17                        region18                        region19                        region20           \"Left-Accumbens-area\"                \"Left-VentralDC\"                   \"Left-vessel\"           \"Left-choroid-plexus\"                        region21                        region22                        region23                        region24   \"Right-Cerebral-White-Matter\"         \"Right-Cerebral-Cortex\"       \"Right-Lateral-Ventricle\"            \"Right-Inf-Lat-Vent\"                        region25                        region26                        region27                        region28 \"Right-Cerebellum-White-Matter\"       \"Right-Cerebellum-Cortex\"         \"Right-Thalamus-Proper\"                 \"Right-Caudate\"                        region29                        region30                        region31                        region32                 \"Right-Putamen\"                \"Right-Pallidum\"             \"Right-Hippocampus\"                \"Right-Amygdala\"                        region33                        region34                        region35                        region36          \"Right-Accumbens-area\"               \"Right-VentralDC\"                  \"Right-vessel\"          \"Right-choroid-plexus\"                        region37                        region38                        region39                        region40            \"WM-hypointensities\"                  \"Optic-Chiasm\"                  \"CC_Posterior\"              \"CC_Mid_Posterior\"                        region41                        region42                        region43                    \"CC_Central\"               \"CC_Mid_Anterior\"                   \"CC_Anterior\" unnest(aseg2_3d, ggseg_3d) |>     mutate(region = gsub(\"-|_\", \" \", region),            region = tolower(region),            region = gsub(\"cc \", \"corpus callosum \", region)            ) |>     select(region) |>     unique() |>     unlist() region1                         region2                         region3                         region4    \"left cerebral white matter\"          \"left cerebral cortex\"        \"left lateral ventricle\"             \"left inf lat vent\"                         region5                         region6                         region7                         region8  \"left cerebellum white matter\"        \"left cerebellum cortex\"          \"left thalamus proper\"                  \"left caudate\"                         region9                        region10                        region11                        region12                  \"left putamen\"                 \"left pallidum\"                 \"3rd ventricle\"                 \"4th ventricle\"                        region13                        region14                        region15                        region16                    \"brain stem\"              \"left hippocampus\"                 \"left amygdala\"                           \"csf\"                        region17                        region18                        region19                        region20           \"left accumbens area\"                \"left ventraldc\"                   \"left vessel\"           \"left choroid plexus\"                        region21                        region22                        region23                        region24   \"right cerebral white matter\"         \"right cerebral cortex\"       \"right lateral ventricle\"            \"right inf lat vent\"                        region25                        region26                        region27                        region28 \"right cerebellum white matter\"       \"right cerebellum cortex\"         \"right thalamus proper\"                 \"right caudate\"                        region29                        region30                        region31                        region32                 \"right putamen\"                \"right pallidum\"             \"right hippocampus\"                \"right amygdala\"                        region33                        region34                        region35                        region36          \"right accumbens area\"               \"right ventraldc\"                  \"right vessel\"          \"right choroid plexus\"                        region37                        region38                        region39                        region40            \"wm hypointensities\"                  \"optic chiasm\"     \"corpus callosum posterior\" \"corpus callosum mid posterior\"                        region41                        region42                        region43       \"corpus callosum central\"  \"corpus callosum mid anterior\"      \"corpus callosum anterior\" unnest(aseg2_3d, ggseg_3d) |>     mutate(region = gsub(\"-|_\", \" \", region),            region = tolower(region),            region = gsub(\"cc \", \"corpus callosum \", region),             atlas = \"aseg2_3d\"            ) # A tibble: 43 x 8    atlas    surf  hemi    region                       colour  label                        roi   mesh    <chr>    <chr> <chr>   <chr>                        <chr>   <chr>                        <chr> <list>  1 aseg2_3d LCBC  subcort left cerebral white matter   #F5F5F5 Left-Cerebral-White-Matter   0002  <named list [2]>  2 aseg2_3d LCBC  subcort left cerebral cortex         #CD3E4E Left-Cerebral-Cortex         0003  <named list [2]>  3 aseg2_3d LCBC  subcort left lateral ventricle       #781286 Left-Lateral-Ventricle       0004  <named list [2]>  4 aseg2_3d LCBC  subcort left inf lat vent            #C43AFA Left-Inf-Lat-Vent            0005  <named list [2]>  5 aseg2_3d LCBC  subcort left cerebellum white matter #DCF8A4 Left-Cerebellum-White-Matter 0007  <named list [2]>  6 aseg2_3d LCBC  subcort left cerebellum cortex       #E69422 Left-Cerebellum-Cortex       0008  <named list [2]>  7 aseg2_3d LCBC  subcort left thalamus proper         #00760E Left-Thalamus-Proper         0010  <named list [2]>  8 aseg2_3d LCBC  subcort left caudate                 #7ABADC Left-Caudate                 0011  <named list [2]>  9 aseg2_3d LCBC  subcort left putamen                 #EC0DB0 Left-Putamen                 0012  <named list [2]> 10 aseg2_3d LCBC  subcort left pallidum                #0C30FF Left-Pallidum                0013  <named list [2]> # … with 33 more rows aseg2_3d <- unnest(aseg2_3d, ggseg_3d) |>     mutate(region = gsub(\"-|_\", \" \", region),            region = tolower(region),            region = gsub(\"cc \", \"corpus callosum \", region),             atlas = \"aseg2_3d\"     ) |>     filter(!grepl(\"Cortex|White-Matter\", label)) ggseg3d(atlas = aseg2_3d)"},{"path":"https://ggseg.github.io/ggsegExtra/articles/createaseg.html","id":"finalizing-the-atlas","dir":"Articles","previous_headings":"Creating a 3d atlas","what":"Finalizing the atlas","title":"Example creation: the aseg subcortical atlas","text":"now happy atlas data ’ve cleaned, can go ahead make ggseg3d-atlas class nesting atlas data surface hemisphere","code":"aseg2_3d <- aseg2_3d |>   nest_by(atlas, surf, hemi, .key = \"ggseg_3d\") |>   as_ggseg3d_atlas()  aseg2_3d # A tibble: 1 x 4   atlas    surf  hemi    ggseg_3d   <chr>    <chr> <chr>   <list> 1 aseg2_3d LCBC  subcort <tibble [35 × 5]> ggseg3d(atlas = aseg2_3d) |>   add_glassbrain()"},{"path":"https://ggseg.github.io/ggsegExtra/articles/createaseg.html","id":"creating-the-2d-atlas","dir":"Articles","previous_headings":"","what":"Creating the 2d atlas","title":"Example creation: the aseg subcortical atlas","text":"Unlike pipeline cortical atlases uses newly made ggseg3d-atlas create polygon data, volumetric pipeline uses volumetric-image just creating ggseg3d-atlas . Using combination FreeSurfer’s Freeview snapshotting ImageMagick, make_ggseg3d_2_ggseg() function takes snapshots region slice combination, extracts contours regions, smooths , reduces vertices organizes data brain-atlas class object. function creates lot intermediary files (mostly snapshots), likely require re-run several steps produce wanted end result. function default stores files temporary folder, highly recommend setting output_dir option, need rerun steps testing another configuration settings. instance, step taking longest time processing time snapshotting regions extracting contours. two steps need run , long ggseg3d-atlas changed somehow. creation function need data.frame information slices snapshot using Freeview. data.frame provided slices arguments, ultimately become slices plot. likely steps redo steps 6-8, tweaking smoothness tolerance arguments improve polygons look many vertices . fewer vertices, faster plot renders, polygons look poor.","code":"slices <- data.frame(x = c(130, 122, 122),            y = c(130, 235, 112),            z = c(130, 100, 106),            view = c(\"axial\", \"sagittal\", \"coronal\"),            stringsAsFactors = FALSE) slices # make atlas ---- aseg2 <- make_volumetric_ggseg(   label_file = file.path(freesurfer::fs_subj_dir(), \"fsaverage5\", \"mri/aseg.mgz\"),   slices = slices,   vertex_size_limits = c(10, NA) ) ● 1/8 Preparing labels   |==============================================| 100%, Elapsed 00:24 ✓ labels ready ● 2/8 Snapshotting views of regions to ~/Desktop/aseg/snapshots,   |======================================================| 100%, Elapsed 03:20 ✓ snapshots complete ● 3/8 isolating regions to ~/Desktop/aseg/interrim   |======================================================| 100%, Elapsed 00:01 ✓ isolation complete ● 4/8 Writing masks to ~/Desktop/aseg/masks   |======================================================| 100%, Elapsed 00:02 ✓ masks complete ● 5/8 Extracting contours from regions   |======================================================| 100%, Elapsed 00:31 ✓ contours complete ● 6/8 Smoothing contours ✓ Smoothing complete ● 7/8 Reducing vertexes ✓ Vertexes reduced ● 8/8 Cleaning up data ● Atlas is complete with 244718 vertices, try re-running steps 7:8 with a higher 'tolerance' number. ✓ cleanup complete"},{"path":"https://ggseg.github.io/ggsegExtra/articles/createaseg.html","id":"inspecting-the-atlas-object","dir":"Articles","previous_headings":"Creating the 2d atlas","what":"Inspecting the atlas object","title":"Example creation: the aseg subcortical atlas","text":"First step look actual object. brain-atlas correctly set , output look like . Second step make sure data plotted correctly.  can clearly see something wrong, legend indicated data see. Setting alpha might expose something.  can see polygons , hidden behind something. colour polygons indicate NA values. Inspecting atlas data directly good idea. remove NA data atlas, also white-matter regions, since don’t really fit . Additionally, sub-cortical atlases cortex region NA plotted, really treated true parcellation regions.  cases, given values 3d-atlas’ colour column correctly applied, problems may arise given annotation files set .","code":"aseg2 # aseg subcortical brain atlas   regions: 19   hemispheres: NA, left, right   side views: coronal, sagittal, axial   palette: yes   use: ggplot() + geom_brain() ----    side    hemi  roi   label                      region    <chr>   <chr> <chr> <chr>                      <chr>  1 coronal left  0002  Left-Cerebral-White-Matter cerebral white matter  2 coronal left  0003  Left-Cerebral-Cortex       cerebral cortex  3 coronal left  0004  Left-Lateral-Ventricle     lateral ventricle  4 coronal left  0010  Left-Thalamus-Proper       thalamus proper  5 coronal left  0012  Left-Putamen               putamen  6 coronal <NA>  0014  3rd-Ventricle              3rd ventricle  7 coronal <NA>  0016  Brain-Stem                 brain stem  8 coronal left  0017  Left-Hippocampus           hippocampus  9 coronal <NA>  0024  CSF                        csf 10 coronal left  0028  Left-VentralDC             ventraldc # … with 96 more rows plot(aseg2) plot(aseg2, alpha = .5) aseg2$data Simple feature collection with 112 features and 5 fields geometry type:  MULTIPOLYGON dimension:      XY bbox:           xmin: 0 ymin: 0 xmax: 578.2364 ymax: 203.3227 CRS:            NA # A tibble: 112 x 6    side   hemi  roi                                               geometry label          region  * <chr>  <chr> <chr>                                       <MULTIPOLYGON> <chr>          <chr>  1 coron… NA    0000  (((8.596379 105.0979, 8.532187 105.0767, 8.469717 1… Unknown        NA  2 coron… left  0002  (((82.41844 102.0004, 82.39649 101.9761, 82.37604 1… Left-Cerebral… cerebral wh…  3 coron… left  0003  (((88.86371 171.1159, 88.76302 171.0871, 88.66764 1… Left-Cerebral… cerebral co…  4 coron… left  0004  (((101.7151 116.3753, 101.64 116.3752, 101.5623 116… Left-Lateral-… lateral ven…  5 coron… left  0010  (((100.0108 100.9053, 99.87905 100.9186, 99.74468 1… Left-Thalamus… thalamus pr…  6 coron… left  0012  (((116.5521 82.86438, 116.5237 82.81094, 116.4955 8… Left-Putamen   putamen  7 coron… NA    0014  (((78.65921 86.42692, 78.55424 86.38102, 78.45397 8… 3rd-Ventricle  3rd ventric…  8 coron… NA    0016  (((88.73587 62.17754, 88.62459 62.18198, 88.51179 6… Brain-Stem     brain stem  9 coron… left  0017  (((113.3849 67.15476, 113.2684 67.12281, 113.1575 6… Left-Hippocam… hippocampus 10 coron… NA    0024  (((78.87844 101.8815, 78.78444 101.8421, 78.69133 1… CSF            csf # … with 102 more rows aseg2$data <- filter(aseg2$data,                      !grepl(\"Unknown\", label, ignore.case = TRUE),                      !grepl(\"White-matter\", label, ignore.case = TRUE) ) |>   mutate(region = ifelse(grepl(\"cortex\", region), NA, region))  aseg2 # aseg subcortical brain atlas   regions: 15   hemispheres: left, NA, right   side views: coronal, sagittal, axial   palette: yes   use: ggplot() + geom_brain() ----    side    hemi  roi   label                   region    <chr>   <chr> <chr> <chr>                   <chr>  1 coronal left  0004  Left-Lateral-Ventricle  lateral ventricle  2 coronal left  0010  Left-Thalamus-Proper    thalamus proper  3 coronal left  0012  Left-Putamen            putamen  4 coronal <NA>  0014  3rd-Ventricle           3rd ventricle  5 coronal <NA>  0016  Brain-Stem              brain stem  6 coronal left  0017  Left-Hippocampus        hippocampus  7 coronal <NA>  0024  CSF                     csf  8 coronal left  0028  Left-VentralDC          ventraldc  9 coronal right 0043  Right-Lateral-Ventricle lateral ventricle 10 coronal right 0049  Right-Thalamus-Proper   thalamus proper # … with 70 more rows plot(aseg2)"},{"path":"https://ggseg.github.io/ggsegExtra/articles/createaseg.html","id":"fixing-the-palette","dir":"Articles","previous_headings":"Creating the 2d atlas","what":"Fixing the palette","title":"Example creation: the aseg subcortical atlas","text":"Many colour tables unique colour regions different hemispheres. can often mess palette 2d-atlas, needs regions different hemispheres palette colour. working atlas colour-scheme dispatched atlas, palette set NULL. palette, default atlas plot return default ggplot2 colours. absolutely valid option. palette optional part atlas.  want correctly apply palette, aseg2$palette part atlas named character vector, value vector hex-colour code, names elements region names seen region column atlas data.","code":"aseg2$palette <- NULL aseg2 # aseg subcortical brain atlas   regions: 15   hemispheres: left, NA, right   side views: coronal, sagittal, axial   palette: no   use: ggplot() + geom_brain() ----    side    hemi  roi   label                   region    <chr>   <chr> <chr> <chr>                   <chr>  1 coronal left  0004  Left-Lateral-Ventricle  lateral ventricle  2 coronal left  0010  Left-Thalamus-Proper    thalamus proper  3 coronal left  0012  Left-Putamen            putamen  4 coronal <NA>  0014  3rd-Ventricle           3rd ventricle  5 coronal <NA>  0016  Brain-Stem              brain stem  6 coronal left  0017  Left-Hippocampus        hippocampus  7 coronal <NA>  0024  CSF                     csf  8 coronal left  0028  Left-VentralDC          ventraldc  9 coronal right 0043  Right-Lateral-Ventricle lateral ventricle 10 coronal right 0049  Right-Thalamus-Proper   thalamus proper # … with 70 more rows plot(aseg2)"},{"path":"https://ggseg.github.io/ggsegExtra/articles/createaseg.html","id":"summary","dir":"Articles","previous_headings":"","what":"Summary","title":"Example creation: the aseg subcortical atlas","text":"together, script create 3d 2d atlases aseg parcellation looks like :","code":"library(ggsegExtra) library(ggseg) library(tidyverse)  # Make  3d ---- aseg2_3d <- make_aseg_2_3datlas(   subject = \"fsaverage5\",   subjects_dir = freesurfer::fs_subj_dir(),   template = file.path(freesurfer::fs_subj_dir(), \"fsaverage5\", \"mri/aseg.mgz\"),   output_dir = \"~/Desktop/aseg\" )  ggseg3d(atlas = aseg2_3d)  # make atlas ---- aseg2 <- make_volumetric_ggseg(subject = \"fsaverage5\",                                steps = 1:8,                                output_dir = \"~/Desktop/aseg\",                                vertex_size_limits = c(10, NA),                                label_file = file.path(freesurfer::fs_subj_dir(), \"fsaverage5\", \"mri/aseg.mgz\"))  aseg2$data <- filter(aseg2$data,                      !grepl(\"Unknown\", label, ignore.case = TRUE),                      !grepl(\"White-matter\", label, ignore.case = TRUE) ) |>   mutate(region = ifelse(grepl(\"cortex\", region), NA, region)) plot(aseg2, alpha = .8)"},{"path":"https://ggseg.github.io/ggsegExtra/articles/createdkt.html","id":"prerequisites","dir":"Articles","previous_headings":"","what":"Prerequisites","title":"Example creation: the DKT cortical atlas","text":"successfully run operations, must following installed system, running either Linux Mac. - FSL - FreeSurfer - R - ImageMagick - orca Initiate R script following library calls:","code":"library(ggsegExtra) library(ggseg) library(ggseg3d) library(tidyverse) # for cleaning the atlas data efficiently"},{"path":[]},{"path":"https://ggseg.github.io/ggsegExtra/articles/createdkt.html","id":"the-annotation-file","dir":"Articles","previous_headings":"Creating a 3d atlas","what":"The annotation file","title":"Example creation: the DKT cortical atlas","text":"first step create FreeSurfer annotation file “fsaverage5” subject. subject ideal fewer vertices fsaverage6 fsaverage (thereby plots faster), still contains enough detail produce good representation cortical surface. FreeSurfer comes DKT cortical annotation file, “bert” example subject. Since “bert” average brain composite, well suited purposes. first need convert annotation file “bert” annotation file “fsaverage5”. FreeSurfer done mri_surf2surf command, specific arguments. ggsegExtra created specialized function specifically type transformation, calling FreeSurfer’s mri_surf2surf mri_surf2surf_rereg() function. function defaults converting annotation file given subject “fsaverage5”, can altered adding target_subject argument. string given annot argument must match annotation file name subject’s label/ folder specified $FREESURFER_SUBJ_DIR specified location though subjects_dir argument function. , default converted annotation file stored target subject’s label/ folder. reason write access folder, can overridden output_dir argument.","code":"# convert DKT to fsaverage5 mri_surf2surf_rereg(subject = \"bert\",                     annot = \"aparc.DKTatlas\",                     hemi = \"lh\")  mri_surf2surf_rereg(subject = \"bert\",                     annot = \"aparc.DKTatlas\",                     hemi = \"rh\") Setting mapmethod to nnf  $Id: mri_surf2surf.c,v 1.103 2015/11/05 22:07:33 greve Exp $  setenv SUBJECTS_DIR /Applications/freesurfer/subjects cd /Users/athanasm/R-stuff/LCBC/ggseg_stuff/atlases/ggsegDKT /Applications/freesurfer/bin/mri_surf2surf --srcsubject bert --sval-annot aparc.DKTatlas --trgsubject fsaverage5 --tval data-raw//lh.aparc.DKTatlas --hemi lh  sysname  Darwin hostname Athanasias-MacBook-Pro.home machine  x86_64 user     athanasm srcsubject = bert srcval     = (null) srctype    = trgsubject = fsaverage5 trgval     = data-raw//lh.aparc.DKTatlas trgtype    = srcsurfreg = sphere.reg trgsurfreg = sphere.reg srchemi    = lh trghemi    = lh frame      = 0 fwhm-in    = 0 fwhm-out   = 0 label-src  = (null) label-trg  = (null) OKToRevFaceOrder  = 1 UseDualHemi = 0 Reading source surface reg /Applications/freesurfer/subjects/bert/surf/lh.sphere.reg Loading source data Reading surface file /Applications/freesurfer/subjects/bert/surf/lh.orig reading colortable from annotation file... colortable with 36 entries read (originally /autofs/space/tanha_002/users/greve/fsdev.build/average/colortable_desikan_killiany.txt) Reading target surface reg /Applications/freesurfer/subjects/fsaverage5/surf/lh.sphere.reg Done Using surf2surf_nnfr() Mapping Source Volume onto Source Subject Surface surf2surf_nnfr: building source hash (res=16). Surf2Surf: Forward Loop (10242)  Surf2Surf: Dividing by number of hits (10242) INFO: nSrcLost = 122841 nTrg121 = 10242, nTrgMulti =     0, MnTrgMultiHits = 0 nSrc121 = 10242, nSrcLost = 122841, nSrcMulti = 122841, MnSrcMultiHits = 0 Saving target data Converting to target annot Saving to target annot data-raw//lh.aparc.DKTatlas"},{"path":"https://ggseg.github.io/ggsegExtra/articles/createdkt.html","id":"the-3d-atlas","dir":"Articles","previous_headings":"Creating a 3d atlas","what":"The 3d atlas","title":"Example creation: the DKT cortical atlas","text":"annotation file made, can proceed creating 3d-mesh atlas. function make_aparc_2_3datlas() runs series text-conversions create atlas, ending several ascii-files surface files extension .ply.","code":"# Make  3d ---- dkt_3d <- make_aparc_2_3datlas(annot = \"aparc.DKTatlas\",                                output_dir = \"~/Desktop/\") Saving /Users/athanasm/Desktop/fsaverage5/srf/ascii/rh.LCBC.asc as a surface Saving /Users/athanasm/Desktop/fsaverage5/srf/ascii/lh.inflated.asc as a surface Saving /Users/athanasm/Desktop/fsaverage5/srf/ascii/lh.white.asc as a surface Saving /Users/athanasm/Desktop/fsaverage5/srf/ascii/rh.inflated.asc as a surface Saving /Users/athanasm/Desktop/fsaverage5/srf/ascii/rh.white.asc as a surface Saving /Users/athanasm/Desktop/fsaverage5/srf/ascii/lh.LCBC.asc as a surface dkt_3d # A tibble: 6 x 4   atlas             surf     hemi            ggseg_3d   <chr>             <chr>    <chr> <list<tbl_df[,6]>> 1 aparc.DKTatlas_3d inflated left            [32 × 6] 2 aparc.DKTatlas_3d inflated right           [32 × 6] 3 aparc.DKTatlas_3d LCBC     left            [32 × 6] 4 aparc.DKTatlas_3d LCBC     right           [32 × 6] 5 aparc.DKTatlas_3d white    left            [32 × 6] 6 aparc.DKTatlas_3d white    right           [32 × 6] ggseg3d(atlas = dkt_3d)"},{"path":"https://ggseg.github.io/ggsegExtra/articles/createdkt.html","id":"cleaning-the-atlas-data","dir":"Articles","previous_headings":"Creating a 3d atlas","what":"Cleaning the atlas data","title":"Example creation: the DKT cortical atlas","text":"atlas data usually needs manual editing get nice shape users, nice plotting. avid tidyverse users, procedures use clean data use tidyverse functions. First, unnest ggseg_3d column, can see atlas data contains. Usually, region column want cleaning , make names regions human readable. column populated names region specified annotation file. can inspect unique values column, can start setting logic renaming regions. region names atlas mainly need white space -certain words make names readable. instance, regions temporal benefit white-space word. ’ll try see patterns can easily alter names look nicer. satisfied region names, also alter atlas name data, something little pleasing. note, stage, can also add columns importance atlas. long conflict terms names default atlas columns, can add many extra columns wish. instance, atlas based connectivity, might nested structure regions, certain regions together form specific network. Adding network column specifying regions belong network appropriate.","code":"unnest(dkt_3d, ggseg_3d) # A tibble: 192 x 9    atlas      surf    hemi  region        colour  label         roi   annot        mesh    <chr>      <chr>   <chr> <chr>         <chr>   <chr>         <chr> <chr>        <list>  1 aparc.DKT… inflat… left  caudalanteri… #7D64A0 lh_caudalant… 0001  caudalanter… <named l…  2 aparc.DKT… inflat… left  caudalmiddle… #641900 lh_caudalmid… 0002  caudalmiddl… <named l…  3 aparc.DKT… inflat… left  cuneus        #DC1464 lh_cuneus     0003  cuneus       <named l…  4 aparc.DKT… inflat… left  entorhinal    #DC140A lh_entorhinal 0004  entorhinal   <named l…  5 aparc.DKT… inflat… left  fusiform      #B4DC8C lh_fusiform   0005  fusiform     <named l…  6 aparc.DKT… inflat… left  inferiorpari… #DC3CDC lh_inferiorp… 0006  inferiorpar… <named l…  7 aparc.DKT… inflat… left  inferiortemp… #B42878 lh_inferiort… 0007  inferiortem… <named l…  8 aparc.DKT… inflat… left  isthmuscingu… #8C148C lh_isthmusci… 0008  isthmuscing… <named l…  9 aparc.DKT… inflat… left  lateraloccip… #141E8C lh_lateraloc… 0009  lateralocci… <named l… 10 aparc.DKT… inflat… left  lateralorbit… #234B32 lh_lateralor… 0010  lateralorbi… <named l… # … with 182 more rows unnest(dkt_3d, ggseg_3d) |>   select(region) |>   unique() |>   unlist() region1                    region2                    region3  \"caudalanteriorcingulate\"      \"caudalmiddlefrontal\"                   \"cuneus\"                    region4                    region5                    region6               \"entorhinal\"                 \"fusiform\"         \"inferiorparietal\"                    region7                    region8                    region9         \"inferiortemporal\"         \"isthmuscingulate\"         \"lateraloccipital\"                   region10                   region11                   region12     \"lateralorbitofrontal\"                  \"lingual\"      \"medialorbitofrontal\"                   region13                   region14                   region15           \"middletemporal\"          \"parahippocampal\"              \"paracentral\"                   region16                   region17                   region18          \"parsopercularis\"            \"parsorbitalis\"         \"parstriangularis\"                   region19                   region20                   region21            \"pericalcarine\"              \"postcentral\"       \"posteriorcingulate\"                   region22                   region23                   region24               \"precentral\"                \"precuneus\" \"rostralanteriorcingulate\"                   region25                   region26                   region27     \"rostralmiddlefrontal\"          \"superiorfrontal\"         \"superiorparietal\"                   region28                   region29                   region30         \"superiortemporal\"            \"supramarginal\"       \"transversetemporal\"                   region31                   region32                   \"insula\"                         NA unnest(dkt_3d, ggseg_3d) |>     mutate(region = gsub(\"temporal\", \" temporal\", region),            region = gsub(\"caudal\", \"caudal \", region),            region = gsub(\"rostral\", \"rostral \", region),            region = gsub(\"middle\", \"middle \", region),            region = gsub(\"lateral\", \"lateral \", region),            region = gsub(\"medial\", \"medial \", region),            region = gsub(\"rior\", \"rior \", region),            region = gsub(\"cingulate\", \" cingulate\", region),            # we've introduced some double whitespace, we don't want that            region = gsub(\"  \", \" \", region)            ) |>     select(region) |>     unique() |>     unlist() region1                      region2                      region3  \"caudal anterior cingulate\"      \"caudal middle frontal\"                     \"cuneus\"                      region4                      region5                      region6                 \"entorhinal\"                   \"fusiform\"          \"inferior parietal\"                      region7                      region8                      region9          \"inferior temporal\"          \"isthmus cingulate\"          \"lateral occipital\"                     region10                     region11                     region12      \"lateral orbitofrontal\"                    \"lingual\"       \"medial orbitofrontal\"                     region13                     region14                     region15            \"middle temporal\"            \"parahippocampal\"                \"paracentral\"                     region16                     region17                     region18            \"parsopercularis\"              \"parsorbitalis\"           \"parstriangularis\"                     region19                     region20                     region21              \"pericalcarine\"                \"postcentral\"        \"posterior cingulate\"                     region22                     region23                     region24                 \"precentral\"                  \"precuneus\" \"rostral anterior cingulate\"                     region25                     region26                     region27     \"rostral middle frontal\"           \"superior frontal\"          \"superior parietal\"                     region28                     region29                     region30          \"superior temporal\"              \"supramarginal\"        \"transverse temporal\"                     region31                     region32                     \"insula\"                           NA unnest(dkt_3d, ggseg_3d) |>     mutate(region = gsub(\"temporal\", \" temporal\", region),            region = gsub(\"caudal\", \"caudal \", region),            region = gsub(\"rostral\", \"rostral \", region),            region = gsub(\"middle\", \"middle \", region),            region = gsub(\"lateral\", \"lateral \", region),            region = gsub(\"medial\", \"medial \", region),            region = gsub(\"rior\", \"rior \", region),            region = gsub(\"cingulate\", \" cingulate\", region),            # we've introduced some double whitespace, we don't want that            region = gsub(\"  \", \" \", region),             atlas = \"dkt_3d\"            ) # A tibble: 192 x 9    atlas  surf    hemi  region          colour label          roi   annot         mesh    <chr>  <chr>   <chr> <chr>           <chr>  <chr>          <chr> <chr>         <list>  1 dkt_3d inflat… left  caudal anterio… #7D64… lh_caudalante… 0001  caudalanteri… <named li…  2 dkt_3d inflat… left  caudal middle … #6419… lh_caudalmidd… 0002  caudalmiddle… <named li…  3 dkt_3d inflat… left  cuneus          #DC14… lh_cuneus      0003  cuneus        <named li…  4 dkt_3d inflat… left  entorhinal      #DC14… lh_entorhinal  0004  entorhinal    <named li…  5 dkt_3d inflat… left  fusiform        #B4DC… lh_fusiform    0005  fusiform      <named li…  6 dkt_3d inflat… left  inferior parie… #DC3C… lh_inferiorpa… 0006  inferiorpari… <named li…  7 dkt_3d inflat… left  inferior tempo… #B428… lh_inferiorte… 0007  inferiortemp… <named li…  8 dkt_3d inflat… left  isthmus cingul… #8C14… lh_isthmuscin… 0008  isthmuscingu… <named li…  9 dkt_3d inflat… left  lateral occipi… #141E… lh_lateralocc… 0009  lateraloccip… <named li… 10 dkt_3d inflat… left  lateral orbito… #234B… lh_lateralorb… 0010  lateralorbit… <named li… # … with 182 more rows"},{"path":"https://ggseg.github.io/ggsegExtra/articles/createdkt.html","id":"finalizing-the-atlas","dir":"Articles","previous_headings":"Creating a 3d atlas","what":"Finalizing the atlas","title":"Example creation: the DKT cortical atlas","text":"now happy atlas data ’ve cleaned, can go ahead make ggseg3d-atlas class nesting atlas data surface hemisphere done, recommend plotting variations make sure expected result returned.","code":"dkt_3d <- unnest(dkt_3d, ggseg_3d) |>     mutate(region = gsub(\"temporal\", \" temporal\", region),            region = gsub(\"caudal\", \"caudal \", region),            region = gsub(\"rostral\", \"rostral \", region),            region = gsub(\"middle\", \"middle \", region),            region = gsub(\"lateral\", \"lateral \", region),            region = gsub(\"medial\", \"medial \", region),            region = gsub(\"rior\", \"rior \", region),            region = gsub(\"cingulate\", \" cingulate\", region),            # we've introduced some double whitespace, we don't want that            region = gsub(\"  \", \" \", region),             atlas = \"dkt_3d\"            ) |>   nest_by(atlas, surf, hemi, .key = \"ggseg_3d\") |>   as_ggseg3d_atlas()  dkt_3d # A tibble: 6 x 4   atlas  surf     hemi  ggseg_3d   <chr>  <chr>    <chr> <list> 1 dkt_3d inflated left  <tibble [32 × 6]> 2 dkt_3d inflated right <tibble [32 × 6]> 3 dkt_3d LCBC     left  <tibble [32 × 6]> 4 dkt_3d LCBC     right <tibble [32 × 6]> 5 dkt_3d white    left  <tibble [32 × 6]> 6 dkt_3d white    right <tibble [32 × 6]> ggseg3d(atlas = dkt_3d, hemisphere = \"left\", surface = \"inflated\") ggseg3d(atlas = dkt_3d, hemisphere = \"right\", surface = \"inflated\")  ggseg3d(atlas = dkt_3d, hemisphere = \"left\", surface = \"LCBC\") ggseg3d(atlas = dkt_3d, hemisphere = \"right\", surface = \"LCBC\")"},{"path":"https://ggseg.github.io/ggsegExtra/articles/createdkt.html","id":"creating-the-2d-atlas","dir":"Articles","previous_headings":"","what":"Creating the 2d atlas","title":"Example creation: the DKT cortical atlas","text":"3d atlas made, creating 2d atlas fairly straight forward. Using , make_ggseg3d_2_ggseg() function takes snapshots region, hemisphere lateral/medial view, extracts contours regions, smooths , reduces vertices organizes data brain-atlas class object. function creates lot intermediary files (mostly snapshots), likely require re-run several steps produce wanted end result. function default stores files temporary folder, highly recommend setting output_dir option, need rerun steps testing another configuration settings. instance, step taking longest time processing time snapshotting regions extracting contours. two steps need run , long ggseg3d-atlas changed somehow. likely steps redo steps 5-7, tweaking smoothness tolerance arguments improve polygons look many vertices . fewer vertices, faster plot renders, polygons look poor.","code":"# make atlas ---- dkt <- make_ggseg3d_2_ggseg(dkt_3d,                             steps = 1:7,                             smoothness = 2,                             tolerance = .5,                             output_dir = \"~/Desktop/\") ● 1/7 Snapshotting views of entire atlas to ~/Desktop//dkt ✓ Snapshots complete ● 2/7 Snapshotting individual regions to ~/Desktop//dkt/img ✓ Region snapshots complete ● 3/7 Isolating regions to ~/Desktop//dkt/masks ● & writing masks to ~/Desktop//dkt/regions ✓ isolation complete ● 4/7 Extracting contours from regions   |===================================================================| 100%, Elapsed 00:25 ✓ contours complete ● 5/7 Smoothing contours ✓ Smoothing complete ● 6/7 Reducing vertexes ✓ Vertexes reduced ● 7/7 Making data frame ✓ Atlas complete with 3694 vertices"},{"path":"https://ggseg.github.io/ggsegExtra/articles/createdkt.html","id":"inspecting-the-atlas-object","dir":"Articles","previous_headings":"Creating the 2d atlas","what":"Inspecting the atlas object","title":"Example creation: the DKT cortical atlas","text":"First step look actual object. brain-atlas correctly set , output look like . Second step make sure data plotted correctly.  cases, given values 3d-atlas’ colour column correctly applied, problems may arise given annotation files set .","code":"dkt # dkt cortical brain atlas   regions: 31   hemispheres: left, right   side views: lateral, medial   palette: yes   use: ggplot() + geom_brain() ----    hemi  side    region                label                   roi    <chr> <chr>   <chr>                 <chr>                   <chr>  1 left  lateral caudal middle frontal lh_caudalmiddlefrontal  0002  2 left  lateral fusiform              lh_fusiform             0005  3 left  lateral inferior parietal     lh_inferiorparietal     0006  4 left  lateral inferior temporal     lh_inferiortemporal     0007  5 left  lateral lateral occipital     lh_lateraloccipital     0009  6 left  lateral lateral orbitofrontal lh_lateralorbitofrontal 0010  7 left  lateral middle temporal       lh_middletemporal       0013  8 left  lateral pars opercularis      lh_parsopercularis      0016  9 left  lateral pars orbitalis        lh_parsorbitalis        0017 10 left  lateral pars triangularis     lh_parstriangularis     0018 # … with 71 more rows plot(dkt)"},{"path":"https://ggseg.github.io/ggsegExtra/articles/createdkt.html","id":"fixing-the-palette","dir":"Articles","previous_headings":"Creating the 2d atlas","what":"Fixing the palette","title":"Example creation: the DKT cortical atlas","text":"Many annotation files unique colour regions different hemispheres. can often mess palette 2d-atlas, needs regions different hemispheres palette colour. working atlas colour-scheme dispatched atlas, palette set NULL. palette, default atlas plot return default ggplot2 colours. absolutely valid option. palette optional part atlas.  want correctly apply palette, dkt$palette part atlas named character vector, value vector hex-colour code, names elements region names seen region column atlas data.","code":"dkt$palette <- NULL dkt # dkt cortical brain atlas   regions: 31   hemispheres: left, right   side views: lateral, medial   palette: no   use: ggplot() + geom_brain() ----    hemi  side    region                label                   roi    <chr> <chr>   <chr>                 <chr>                   <chr>  1 left  lateral caudal middle frontal lh_caudalmiddlefrontal  0002  2 left  lateral fusiform              lh_fusiform             0005  3 left  lateral inferior parietal     lh_inferiorparietal     0006  4 left  lateral inferior temporal     lh_inferiortemporal     0007  5 left  lateral lateral occipital     lh_lateraloccipital     0009  6 left  lateral lateral orbitofrontal lh_lateralorbitofrontal 0010  7 left  lateral middle temporal       lh_middletemporal       0013  8 left  lateral pars opercularis      lh_parsopercularis      0016  9 left  lateral pars orbitalis        lh_parsorbitalis        0017 10 left  lateral pars triangularis     lh_parstriangularis     0018 # … with 71 more rows plot(dkt)"},{"path":"https://ggseg.github.io/ggsegExtra/articles/createdkt.html","id":"summary","dir":"Articles","previous_headings":"","what":"Summary","title":"Example creation: the DKT cortical atlas","text":"together, script create 3d 2d atlases DKT parcellation looks like :","code":"library(ggsegExtra) library(ggseg) library(tidyverse)  # convert DKT to fsaverage5 mri_surf2surf_rereg(subject = \"bert\",               annot = \"aparc.DKTatlas\",               hemi = \"lh\",               output_dir = \"data-raw/\")  mri_surf2surf_rereg(subject = \"bert\",               annot = \"aparc.DKTatlas\",               hemi = \"rh\",               output_dir = \"data-raw/\")   # Make  3d ---- dkt_3d <- make_aparc_2_3datlas(annot = \"aparc.DKTatlas\",                                annot_dir = \"data-raw/\",                                output_dir = \"~/Desktop\") |>     mutate(region = gsub(\"temporal\", \" temporal\", region),            region = gsub(\"caudal\", \"caudal \", region),            region = gsub(\"rostral\", \"rostral \", region),            region = gsub(\"middle\", \"middle \", region),            region = gsub(\"lateral\", \"lateral \", region),            region = gsub(\"medial\", \"medial \", region),            region = gsub(\"rior\", \"rior \", region),            region = gsub(\"cingulate\", \" cingulate\", region),            # we've introduced some double whitespace, we don't want that            region = gsub(\"  \", \" \", region),             atlas = \"dkt_3d\"            ) |>   nest_by(atlas, surf, hemi, .key = \"ggseg_3d\") |>   as_ggseg3d_atlas()  # make 2d ---- dkt <- make_ggseg3d_2_ggseg(dkt_3d,                             steps = 1:7,                             smoothness = 2,                             tolerance = .5,                             output_dir = \"~/Desktop/\") plot(dkt)"},{"path":"https://ggseg.github.io/ggsegExtra/articles/customatlas.html","id":"creating-ggseg-atlas-from-a-ggseg3d-atlas","dir":"Articles","previous_headings":"","what":"Creating ggseg-atlas from a ggseg3d-atlas","title":"Contributing: creating new polygon ggseg-atlases","text":"best way create ggseg-atlas little manual intervention, first make ggseg3d-atlas, convert ggseg-atlas. entire process can take anything 10minutes, depending number segmentations atlas. segmentations means longer time. ggseg3d-atlas, function ggseg3d_2_ggseg() can convert polygons ready ggseg.","code":""},{"path":"https://ggseg.github.io/ggsegExtra/articles/customatlas.html","id":"prerequisites","dir":"Articles","previous_headings":"Creating ggseg-atlas from a ggseg3d-atlas","what":"Prerequisites","title":"Contributing: creating new polygon ggseg-atlases","text":"R ImageMagick orca function takes arguments, quite lot background. needs object ggseg3d-atlas, ad work input changed. recommend changing output_dir folder can keep track see intermediate results look like. also makes possible use steps argument. early steps run successfully, can skip run later steps. Re-running steps 5:7 might necessary find good balance smoothness polygons nicer looking parcellations, vertex reductions tolerance reduce file size. recommend trying several combinations something looks nice. Vertex reduction particularly important, significantly reduces atlas data size, thus making much faster plot. important incorporating Shiny apps, many facets plot. ’d generally recommend 2d-atlas much 10k vertices. data returned, recommend data cleaning, particularly region column. column ideally human readable names, short, space rather delimiters. enable nicer labelling plotting. done, try plotting ggseg.","code":"dt <- make_ggseg3d_2_ggseg(   ggseg3d_atlas = dk_3d,   steps = 1:7,   output_dir = tempdir(),   smoothness = 5,   tolerance = 0,   cleanup = FALSE,   verbose = TRUE) ggplot() +   geom_brain(atlas = dt)"},{"path":"https://ggseg.github.io/ggsegExtra/articles/customatlas.html","id":"dkt-example","dir":"Articles","previous_headings":"Creating ggseg-atlas from a ggseg3d-atlas","what":"DKT example","title":"Contributing: creating new polygon ggseg-atlases","text":"successfully created 3d atlas following steps, can proceed using 3d-atlas make 2d-atlas. long 3d atlas correctly made, little difficulty making 2d version. pipeline also makes lot intermediary files, aware . times, annot-files unique colour per hemisphere*region combination. work well ggseg. fint parcellations look fine, colours , atlas palette surely wrong. need manual editing named character vector atlas fix .","code":"# make atlas ---- dkt <- make_ggseg3d_2_ggseg(dkt_3d,                             steps = 1:7,                             smoothness = 2,                             tolerance = .5,                             output_dir = \"~/Desktop\")  # check that it looks ok. plot(dkt)"},{"path":"https://ggseg.github.io/ggsegExtra/articles/customatlas.html","id":"skipping-ggseg3d-atlas","dir":"Articles","previous_headings":"","what":"Skipping ggseg3d-atlas","title":"Contributing: creating new polygon ggseg-atlases","text":"pipeline contributed bbuchsbaum. still quite error prone, instrumental creating functionality. Harvard-Oxford atlas available FSL. process converting cortical parts, via FreeSurfer, ggseg format.","code":""},{"path":"https://ggseg.github.io/ggsegExtra/articles/customatlas.html","id":"prerequisites-1","dir":"Articles","previous_headings":"Skipping ggseg3d-atlas","what":"Prerequisites","title":"Contributing: creating new polygon ggseg-atlases","text":"FSL, FreeSurfer, connectome workbench, parallel, ImageMagick, R.","code":""},{"path":"https://ggseg.github.io/ggsegExtra/articles/customatlas.html","id":"converting-to-freesurfer-and-fixing","dir":"Articles","previous_headings":"Skipping ggseg3d-atlas","what":"Converting to FreeSurfer and fixing","title":"Contributing: creating new polygon ggseg-atlases","text":"Take copy fsaverage folder, set SUBJECTS_DIR point folder containing fsaverage copy. Import atlas surface Create color table. Run R session ${SUBJECTS_DIR}/fsaverage/mri Create series individual label files Create annotation files Check surface looks - note lots holes etc. Using 0 prob threshold leads bleed neighboring sulci, think harder fix. Fill smooth Screengrabs tksurfer. can reun somewhere fsaverage. Rename unknowns medial wall Finally, let R spatial tools work magic… creates ho_atlas.Rda contains couple data frames, almost ready inclusion ggsegExtra.","code":"cd ${SUBJECTS_DIR}/fsaverage/mri mri_vol2surf --sd $(pwd)/../.. --src ${FSLDIR}/data/atlases/HarvardOxford/HarvardOxford-cort-maxprob-thr25-1mm.nii.gz --mni152reg --out  harvard_oxford_surf_rh.mgh --hemi rh --projfrac 0.5  mri_vol2surf --sd $(pwd)/../.. --src ${FSLDIR}/data/atlases/HarvardOxford/HarvardOxford-cort-maxprob-thr25-1mm.nii.gz --mni152reg --out harvard_oxford_surf_lh.mgh --hemi lh --projfrac 0.5 source(\"ho_ctab.R\") mkdir Labels seq 1 48 | parallel mri_vol2label --c harvard_oxford_surf_rh.mgh --id {} --surf fsaverage rh --l ./Labels/rh_HO_{}.label seq 1 48 | parallel mri_vol2label --c harvard_oxford_surf_lh.mgh --id {} --surf fsaverage lh --l ./Labels/lh_HO_{}.label LABS=$(seq 1 48 | parallel echo -n '\\ --l ./Labels/lh_HO_{}.label\\ ') mris_label2annot --sd ${SUBJECTS_DIR} --s fsaverage --ctab ../label/ho.annot.ctab ${LABS} --h lh --a ho  LABS=$(seq 1 48 | parallel echo -n '\\ --l ./Labels/rh_HO_{}.label\\ ')  mris_label2annot --sd ${SUBJECTS_DIR} --s fsaverage --ctab ../label/ho.annot.ctab ${LABS} --h rh --a ho vglrun freeview  --surface ../surf/rh.inflated:annot=../label/rh.ho.annot --surface ../surf/lh.inflated:annot=../label/lh.ho.annot # convert to gifti mris_convert --annot ../label/rh.ho.annot ../surf/rh.inflated ./fsaverage_rh.label.gii mris_convert --annot ../label/lh.ho.annot ../surf/lh.inflated ./fsaverage_lh.label.gii  mris_convert --annot ../label/rh.aparc.annot ../surf/rh.inflated ./fsaverage_aparc_rh.label.gii mris_convert --annot ../label/lh.aparc.annot ../surf/lh.inflated ./fsaverage_aparc_lh.label.gii  ./smooth_labels.sh fsaverage_lh_10.label.gii inflated_lh.surf.gii fsaverage_lh_10.smooth.label.gii ./smooth_labels.sh fsaverage_rh_10.label.gii inflated_rh.surf.gii fsaverage_rh_10.smooth.label.gii  ## Back to viewing with freesurfer for hemi in lh rh ; do mris_convert --annot fsaverage_${hemi}_10.smooth.label.gii inflated_${hemi}.surf.gii ./${hemi}.ho.smooth.annot done ./mkPics.sh mv PicsHarvardOxford/lh_\\?\\?\\?_med.tif PicsHarvardOxford/lh_medialwall_med.tif mv PicsHarvardOxford/rh_\\?\\?\\?_med.tif PicsHarvardOxford/rh_medialwall_med.tif  rm PicsHarvardOxford/*_\\?* source(\"mkHO.R\")"},{"path":"https://ggseg.github.io/ggsegExtra/articles/customatlas.html","id":"comments","dir":"Articles","previous_headings":"Skipping ggseg3d-atlas","what":"Comments","title":"Contributing: creating new polygon ggseg-atlases","text":"suspect something similar possible tkedit, viewers able look subcortical structures. Otherwise maximal projections thresholding probably suffice.","code":""},{"path":"https://ggseg.github.io/ggsegExtra/articles/customatlas3d.html","id":"prerequisites","dir":"Articles","previous_headings":"","what":"Prerequisites","title":"Contributing: creating new tridimensional ggseg3d-atlases","text":"FSL FreeSurfer R orca functions work Windows systems, FreeSurfer available Windows. desperately need use Windows-bases systems, can look FreeSurfer docker containers see can connect R, tried . Finally one R ggseg-family packages convert .ply meshes ggseg3d-atlas.","code":""},{"path":[]},{"path":"https://ggseg.github.io/ggsegExtra/articles/customatlas3d.html","id":"make-annotation-file-bash-freesurfer","dir":"Articles","previous_headings":"From a surface image.","what":"1) Make annotation file (bash + FreeSurfer)","title":"Contributing: creating new tridimensional ggseg3d-atlases","text":"Atlases already available FreeSurfer annotation files, making step unnecessary. can found FreeSurfer subject directory, within subject label/ folder, look files ending .annot. files (like results vertex-vise analyses etc), need convert ROIs annotation files. may require following conversions: Convert overlay files annotations. (e.g. overlay results annotations) specific procedure depend original image FreeSurfer’s mri_surf2annot, mri_surf2surf, mri_label2annot mri_surfcluster, capable required conversions altering freesurfer .annot file subjects (like “bert” “fsaverage5”), can use R convenience function made: work function work, annot file must $FREESURFER_HOME/subjects/bert/label.","code":"# convert bert's DKT to fsaverage5 mri_surf2surf_rereg(subject = \"bert\",               annot = \"aparc.DKTatlas\",               hemi = \"lh\",               output_dir = \"/path/to/where/you/want/it\")  mri_surf2surf_rereg(subject = \"bert\",               annot = \"aparc.DKTatlas\",               hemi = \"rh\",               output_dir = \"/path/to/where/you/want/it\")"},{"path":"https://ggseg.github.io/ggsegExtra/articles/customatlas3d.html","id":"run-make_aparc_2_3datlasr","dir":"Articles","previous_headings":"From a surface image.","what":"2) Run make_aparc_2_3datlas()(R)","title":"Contributing: creating new tridimensional ggseg3d-atlases","text":"script converts annotations (.annot) tridimensional (.ply) meshes, ggseg3d-atlas. Without arguments, create aparc (Desikan-Killiany atlas), based annotation files FreeSurfer subjects directory. Depending set-, storing data, etc. many arguments function choose . arguments function : annot : annotation base name, “aparc” default subject : FreeSurfer subject, “fsaverage5” default hemisphere : hemisphere(s), c(“rh”, “lh”) default surface : surfaces create atlas , c(“inflated”, “LCBC”, “white”) default subjects_dir : path FreeSurfer $SUBJECTS_DIR, freesurfer::fs_subj_dir() default annot_dir : directory annot files , file.path(subjects_dir, subject, “label”) default output_dir : output directory intermediary files, tempdir() default cleanup : logical output directory intermediary files deleted completion, TRUE default verbose : logical verbose , TRUE (default) Depending need , folders may write-access system, might need changing. can use surface already existing subjects surf folder. made custom annotation file, placed Desktop, names “lh.myResults.annot” “rh.myResults.annot”, can use file : Note “LCBC” surface works subject “fsaverage5”, want subject, need convert freesurfer::mri_surf2srf(). want make specialized surface, can, look FreeSurfer documentation . notice atlas column takes directly name annot file, region label columns . process making atlas contribution, couple steps necessary atlas included. atlas-name short easily recognisable atlas column name atlas object self contents region column cleaned proper names, label names. make nicer plotting make regions human readable. Please take care step.","code":"# Desikan-Killiany atlas (a.k.a aparc) dt <- make_aparc_2_3datlas()  # Desterieux atlas dt <- make_aparc_2_3datlas(annot = \"aparc.a2009s\")  # Yeo 7 networks atlas dt <- make_aparc_2_3datlas(annot = \"Yeo2011_7Networks_N1000\") # myResults atlas dt <- make_aparc_2_3datlas(annot = \"myResults\",                        annot_dir = \"~/Desktop\")"},{"path":"https://ggseg.github.io/ggsegExtra/articles/customatlas3d.html","id":"dkt-example","dir":"Articles","previous_headings":"From a surface image.","what":"DKT example","title":"Contributing: creating new tridimensional ggseg3d-atlases","text":"DKT atlas ggseg made 100% using functions package. DKT atlas annot file installed FreeSurfer example “bert” subject. first need transform annot file bert, file fsaverage5, recommended surface mesh plots. use mri_surf2surf_rereg function package, calls FreeSurfers mri_surf2surf specific calls make transformation. done hemispheres, resulting annotations saved Desktop. can run make_aparc_2_3datlas create mesh-plot annotation. function create many files mesh correctly made. function created atlas object us, little extra data cleaning. Firstly, alter atlas column value “aparc.DKTatlas” “dkt_3d”. unnest data, exposing underlying atlas information, remove region column. default names “region” taken directly annotation file, case pretty. DKT atlas DK atlas, minus couple regions, joining label region column ggseg::dk data, re-populate region column nicer names. cases, need string manipulations tidy region names. re-nest data, make ggseg3d-atlas. atlas complete looks satisfaction, can proceed making atlas 2d polygon atlas","code":"# convert DKT to fsaverage5 mri_surf2surf_rereg(subject = \"bert\",                     annot = \"aparc.DKTatlas\",                     hemi = \"lh\",                     output_dir = \"~/Desktop/\")  mri_surf2surf_rereg(subject = \"bert\",                     annot = \"aparc.DKTatlas\",                     hemi = \"rh\",                     output_dir = \"~/Desktop/\") library(dplyr) library(tidyr)  # Make  3d ---- dkt_3d <- make_aparc_2_3datlas(annot = \"aparc.DKTatlas\",                                annot_dir = \"~/Desktop/\",                                subjects_dir = freesurfer::fs_subj_dir(),                                output_dir = \"~/Desktop/\") |>   mutate(atlas = \"dkt_3d\")|>   unnest(ggseg_3d) |>   select(-region) |>   left_join(select(ggseg::dk$data, hemi, region, label)) |>   nest_by(atlas, surf, hemi, .key = \"ggseg_3d\") |>   as_ggseg3d_atlas()"},{"path":"https://ggseg.github.io/ggsegExtra/articles/customatlas3d.html","id":"from-a-volume-image","dir":"Articles","previous_headings":"","what":"From a volume image","title":"Contributing: creating new tridimensional ggseg3d-atlases","text":"still quite kinks !","code":""},{"path":"https://ggseg.github.io/ggsegExtra/articles/customatlas3d.html","id":"create-volumetric-image-bash-freesurfer-fsl","dir":"Articles","previous_headings":"From a volume image","what":"1) Create volumetric image (bash + FreeSurfer / FSL)","title":"Contributing: creating new tridimensional ggseg3d-atlases","text":"image needs following characteristics: MNI305; 2mm FreeSurfer space One perform basic transformations (mostly thresholding, binarizing , registration) neuroimaging software tools like FreeSurfer FSL. specific process depend initial information, one manage convert data using following functions: fslmaths (FSL) mri_convert, mri_vol2vol, mris_calc (FreeSurfer). resulting template file must FreeSurfer.mgz format.","code":""},{"path":"https://ggseg.github.io/ggsegExtra/articles/customatlas3d.html","id":"run-make_aseg_2_3datlas-r","dir":"Articles","previous_headings":"From a volume image","what":"2) Run make_aseg_2_3datlas() (R)","title":"Contributing: creating new tridimensional ggseg3d-atlases","text":"script converts template images (.mgz) tridimensional (.ply) meshes, ggseg3d-atlas. Without arguments, create aseg atlas, based mri/aseg.mgz file FreeSurfer subjects directory, together “ASegStatsLUT.txt” file FreeSurfer main directory. Depending set-, storing data, etc. many arguments function choose . arguments function : template : path template.mgz file color_lut : path color LUT, data.frame color LUT (ctab) properties steps : 5 steps transformation, partial transformation done , cleanup, can skip steps already run. subject : FreeSurfer subject, “fsaverage5” default subjects_dir : path FreeSurfer $SUBJECTS_DIR, freesurfer::fs_subj_dir() default output_dir : output directory intermediary files, tempdir() default cleanup : logical output directory intermediary files deleted completion, TRUE default verbose : logical verbose , TRUE (default) Depending need , folders may write-access system, might need changing. need make sure template.mgz file made 1) can run .","code":"# aseg atlas (a.k.a aseg) dt <- make_aseg_2_3datlas() # myResults template without a color LUT dt <- make_aparc_2_3datlas(template = \"path/to/myResults.mgz\",                        color_lut = NULL)  # myResults template with a color LUT dt <- make_aparc_2_3datlas(template = \"path/to/myResults.mgz\",                        color_lut = \"path/to/myResults_LUT.txt\")"},{"path":"https://ggseg.github.io/ggsegExtra/articles/ggsegExtra.html","id":"installing-atlases","dir":"Articles","previous_headings":"","what":"Installing atlases","title":"Using ggsegExtra atlases","text":"Atlases stored online repositories. list repositories periodically updated based confirmed new atlas works packages. data-sets can github account (ggseg), happy add new repositories contributed others . see confirmed atlases: Installing atlases repos, convenience function, using r-universe ggseg packages","code":"ggseg_atlas_repos() ## # A tibble: 28 × 81 ##    `_type` `_user` Package     Maintainer `_published` `_upstream` `_registered` ##    <chr>   <chr>   <chr>       <chr>      <chr>        <chr>       <lgl>         ##  1 failure ggseg   ggsegExtra  Athanasia… 2026-01-31T… https://gi… TRUE          ##  2 src     ggseg   ggseg       Athanasia… 2026-01-24T… https://gi… TRUE          ##  3 src     ggseg   freesurfer  John Musc… 2026-01-13T… https://gi… TRUE          ##  4 src     ggseg   ggsegTracu… Athanasia… 2026-01-22T… https://gi… TRUE          ##  5 src     ggseg   ggseg3d     Athanasia… 2026-01-16T… https://gi… TRUE          ##  6 failure ggseg   rgdal       Roger Biv… 2026-01-28T… https://gi… TRUE          ##  7 src     ggseg   ggsegYeo20… Athanasia… 2026-01-30T… https://gi… TRUE          ##  8 src     ggseg   ggsegICBM   Athanasia… 2026-01-18T… https://gi… TRUE          ##  9 src     ggseg   ggsegSchae… Athanasia… 2026-01-24T… https://gi… TRUE          ## 10 src     ggseg   ggsegChen   Athanasia… 2026-01-22T… https://gi… TRUE          ## # ℹ 18 more rows ## # ℹ 74 more variables: `_commit` <df[,5]>, `_maintainer` <df[,8]>, ## #   `_distro` <chr>, `_jobs` <list>, `_host` <chr>, `_buildurl` <chr>, ## #   `_created` <chr>, `_owner` <chr>, `_selfowned` <lgl>, `_universes` <list>, ## #   `_nocasepkg` <chr>, `_failure` <df[,5]>, `_binaries` <list>, Title <chr>, ## #   Version <chr>, `Authors@R` <chr>, Description <chr>, License <chr>, ## #   Encoding <chr>, RoxygenNote <chr>, LazyData <chr>, …  # Search for repos with pattern ggseg_atlas_repos(\"Yeo\") ## # A tibble: 1 × 81 ##   `_type` `_user` Package      Maintainer `_published` `_upstream` `_registered` ##   <chr>   <chr>   <chr>        <chr>      <chr>        <chr>       <lgl>         ## 1 src     ggseg   ggsegYeo2011 Athanasia… 2026-01-30T… https://gi… TRUE          ## # ℹ 74 more variables: `_commit` <df[,5]>, `_maintainer` <df[,8]>, ## #   `_distro` <chr>, `_jobs` <list>, `_host` <chr>, `_buildurl` <chr>, ## #   `_created` <chr>, `_owner` <chr>, `_selfowned` <lgl>, `_universes` <list>, ## #   `_nocasepkg` <chr>, `_failure` <df[,5]>, `_binaries` <list>, Title <chr>, ## #   Version <chr>, `Authors@R` <chr>, Description <chr>, License <chr>, ## #   Encoding <chr>, RoxygenNote <chr>, LazyData <chr>, ## #   LazyDataCompression <chr>, VignetteBuilder <chr>, URL <chr>, …  # Search is case-sensitive ggseg_atlas_repos(\"yeo\") ## # A tibble: 0 × 81 ## # ℹ 81 variables: _type <chr>, _user <chr>, Package <chr>, Maintainer <chr>, ## #   _published <chr>, _upstream <chr>, _registered <lgl>, _commit <df[,5]>, ## #   _maintainer <df[,8]>, _distro <chr>, _jobs <list>, _host <chr>, ## #   _buildurl <chr>, _created <chr>, _owner <chr>, _selfowned <lgl>, ## #   _universes <list>, _nocasepkg <chr>, _failure <df[,5]>, _binaries <list>, ## #   Title <chr>, Version <chr>, Authors@R <chr>, Description <chr>, ## #   License <chr>, Encoding <chr>, RoxygenNote <chr>, LazyData <chr>, …  # Search is case-sensitive, but this can be fixed ggseg_atlas_repos(\"yeo\", ignore.case = TRUE) ## # A tibble: 1 × 81 ##   `_type` `_user` Package      Maintainer `_published` `_upstream` `_registered` ##   <chr>   <chr>   <chr>        <chr>      <chr>        <chr>       <lgl>         ## 1 src     ggseg   ggsegYeo2011 Athanasia… 2026-01-30T… https://gi… TRUE          ## # ℹ 74 more variables: `_commit` <df[,5]>, `_maintainer` <df[,8]>, ## #   `_distro` <chr>, `_jobs` <list>, `_host` <chr>, `_buildurl` <chr>, ## #   `_created` <chr>, `_owner` <chr>, `_selfowned` <lgl>, `_universes` <list>, ## #   `_nocasepkg` <chr>, `_failure` <df[,5]>, `_binaries` <list>, Title <chr>, ## #   Version <chr>, `Authors@R` <chr>, Description <chr>, License <chr>, ## #   Encoding <chr>, RoxygenNote <chr>, LazyData <chr>, ## #   LazyDataCompression <chr>, VignetteBuilder <chr>, URL <chr>, … ggseg_atlas_repos(\"dkt\", ignore.case = TRUE) install_ggseg_atlas(\"ggsegDKT\") library(ggplot2) library(ggseg)  ggplot() +   geom_brain(atlas = ggsegDKT::dkt)"},{"path":"https://ggseg.github.io/ggsegExtra/articles/ggsegExtra.html","id":"d-atlases-with-ggseg","dir":"Articles","previous_headings":"","what":"2d atlases with ggseg","title":"Using ggsegExtra atlases","text":"able easily switch atlases, loading ggsegExtra, rather plot one ggsegExtra atlases directly function.  want make sure looks properly like atlas , want plot example original plot. datasets also corresponding palettes papers introduced . colour-scales can applied scale_X_brain functions, must also specify package palette comes .","code":"library(ggplot2) library(ggseg) library(ggsegDKT)  ggplot() +   geom_brain(atlas = dkt) ggplot() +   geom_brain(atlas = dkt) +   scale_fill_brain(\"dkt\", package = \"ggsegDKT\")"},{"path":"https://ggseg.github.io/ggsegExtra/articles/ggsegExtra.html","id":"d-plots-with-ggseg3d","dir":"Articles","previous_headings":"","what":"3d plots with ggseg3d","title":"Using ggsegExtra atlases","text":"goes ggseg3d, new atlases, now available ggsegExtra package, can plotted ggseg3d function helpers.","code":"library(ggseg3d)  ggseg3d(atlas = dkt_3d) |>   pan_camera(\"right lateral\")"},{"path":"https://ggseg.github.io/ggsegExtra/articles/ggsegrepo.html","id":"help-setting-up-the-package-repository","dir":"Articles","previous_headings":"","what":"Help setting up the package repository","title":"Contributing: prepare a repository for the atlas","text":"Since setting package first time, particularly data package, set function help get started. contains tests, general set-expect ggseg-atlas package. already comfortable making R-packages, skip step. , intended help set skeleton package. create ggseg repo, use RStudio New Project creation GUI, look ggseg icon.","code":""},{"path":"https://ggseg.github.io/ggsegExtra/articles/ggsegrepo.html","id":"change-description","dir":"Articles","previous_headings":"Help setting up the package repository","what":"Change DESCRIPTION","title":"Contributing: prepare a repository for the atlas","text":"DESCRIPTION file text-file important information regarding contents package. file necessary edit several reasons: (whoever assisted ) listed authors maintainers package, remove Athanasia Didac add names stead (ORCID optional, delete don’t one). Description: section altered reflect contents package. feature like github issues, BugReports may deleted whole.","code":""},{"path":"https://ggseg.github.io/ggsegExtra/articles/ggsegrepo.html","id":"add-data","dir":"Articles","previous_headings":"Help setting up the package repository","what":"Add data","title":"Contributing: prepare a repository for the atlas","text":"need place atlas files, .rda files data/ folder. atlas data-objects must name file. case cc200.rda load object cc200 R-environment using load(\"data/cc200.rda\"), contain ggseg-atlas (use is_ggseg_atlas() as_ggseg_atlas check). Likewise, cc200_3d.rdashould load object cc200_3d R-environment using load(\"data/cc200_3d.rda\"), contains ggseg3d-atlas (use is_ggseg3d_atlas() as_ggseg3d_atlas check). adapt atlas information R/cc200.R match atlas adding. Take particular care reference atlas original paper first introducing parcellation.","code":""},{"path":"https://ggseg.github.io/ggsegExtra/articles/ggsegrepo.html","id":"getting-tests-to-pass","dir":"Articles","previous_headings":"Help setting up the package repository","what":"Getting tests to pass","title":"Contributing: prepare a repository for the atlas","text":"data added, references fixed, try run tests. likely failures, try resolve looking error messages. Common things check: 3d 2d (ggplot) atlas, comment sections tests refer atlas type including. made palette, please , look data-raw/palettes.R setting . palettes stores list brain_pal object, list contains named string vector, names match atlas$region strings hexidecimal colour codes. Let us know struggle. love improve tutorial issues might encounter.","code":"devtools::test()"},{"path":"https://ggseg.github.io/ggsegExtra/articles/ggsegrepo.html","id":"getting-package-tests-to-pass","dir":"Articles","previous_headings":"Help setting up the package repository","what":"Getting package tests to pass","title":"Contributing: prepare a repository for the atlas","text":"tests passed, try running package checks : attempt build package see goes. Look error messages try resolve reading carefully. Common things check: remove unneeded atlas data/atlas.rda file, contains information atlases fail one present data/. added license: try using usethis::use_mit_license(\"Name \") likely failures, try resolve . Let us know struggle. love improve tutorial issues might encounter. everything goes well, push remote repository let us know . double check add checks !","code":"devtools::check()"},{"path":"https://ggseg.github.io/ggsegExtra/articles/system_setup.html","id":"freesurfer","dir":"Articles","previous_headings":"","what":"FreeSurfer","title":"System Setup","text":"Creating custom atlases requires FreeSurfer installed configured. macOS, also need: XQuartz Xcode command line tools","code":""},{"path":"https://ggseg.github.io/ggsegExtra/articles/system_setup.html","id":"plotly-screenshots","dir":"Articles","previous_headings":"","what":"Plotly screenshots","title":"System Setup","text":"taking screenshots 3D plotly brain visualizations, ggsegExtra uses webshot2 package, requires Google Chrome Chromium. Chrome/Chromium typically already installed. , webshot2 attempt download suitable version automatically.","code":"install.packages(\"webshot2\")"},{"path":"https://ggseg.github.io/ggsegExtra/articles/system_setup.html","id":"parallel-processing","dir":"Articles","previous_headings":"","what":"Parallel processing","title":"System Setup","text":"Atlas creation can slow, especially cortical atlases many regions. ggsegExtra uses furrr package parallel processing. default, processing runs sequentially. enable parallel processing, set future plan running atlas creation functions: return sequential processing:","code":"library(future)  # Use all available cores plan(multisession)  # Or specify number of workers plan(multisession, workers = 4) plan(sequential)"},{"path":"https://ggseg.github.io/ggsegExtra/articles/system_setup.html","id":"progress-bars","dir":"Articles","previous_headings":"","what":"Progress bars","title":"System Setup","text":"ggsegExtra uses progressr package report progress long-running operations. Progress reporting disabled default. enable progress bars, wrap code with_progress() set global handler: can customize progress bar style:","code":"library(progressr)  # Option 1: Wrap specific code with_progress({   atlas <- make_ggseg3d_2_ggseg(...) })  # Option 2: Enable globally for the session handlers(global = TRUE) # Use a simple text progress bar handlers(\"txtprogressbar\")  # Use cli-style progress (recommended) handlers(\"cli\")"},{"path":"https://ggseg.github.io/ggsegExtra/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Athanasia Mo Mowinckel. Author, maintainer. Didac Vidal-Piñeiro. Author. John Muschelli. Contributor.","code":""},{"path":"https://ggseg.github.io/ggsegExtra/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Mowinckel , Vidal-Piñeiro D (2019). “Visualisation Brain Statistics R-packages ggseg ggseg3d.” 1912.08200.","code":"@Misc{,   title = {Visualisation of Brain Statistics with R-packages ggseg and ggseg3d},   author = {Athanasia M. Mowinckel and Didac Vidal-Piñeiro},   year = {2019},   eprint = {1912.08200},   archiveprefix = {arXiv},   primaryclass = {stat.OT}, }"},{"path":"https://ggseg.github.io/ggsegExtra/copilot-instructions.html","id":"quick-orientation--what-this-repo-is","dir":"","previous_headings":"","what":"Quick orientation — what this repo is","title":"NA","text":"R package provides atlas creation pipelines datasets ggseg / ggseg3d plotting ecosystem. See DESCRIPTION package dependencies system requirements (notably: FreeSurfer, GDAL, ImageMagick, orca). user-facing documentation tutorials live vignettes/ docs/.","code":""},{"path":"https://ggseg.github.io/ggsegExtra/copilot-instructions.html","id":"big-picture-architecture","dir":"","previous_headings":"","what":"Big-picture architecture","title":"NA","text":"Core R code lives R/ (e.g. R/create-ggseg-atlas.R, R/create-ggseg3d-atlas.R). files implement multi-step pipelines operate disk (image snapshots, masks, interim files) return brain_atlas objects used ggseg. Data generated surfaces inst/ data-raw/. Documentation generated pkgdown docs/ (see _pkgdown.yml). CI builds renders macOS (see .github/workflows/*.yaml).","code":""},{"path":"https://ggseg.github.io/ggsegExtra/copilot-instructions.html","id":"important-conventions--patterns-an-ai-should-follow","dir":"","previous_headings":"","what":"Important conventions & patterns an AI should follow","title":"NA","text":"Pipeline steps: many functions accept steps numeric vector (e.g. steps = 1:7 make_ggseg3d_2_ggseg) write files output_dir. assume -memory-flows — functions read/write many intermediate files. Atlas naming: ggseg3d atlases often use _3d suffixes palettes created make_palette_ggseg() (see R/create-ggseg-atlas.R). generating atlases, ensure names palette keys match repository conventions (see usage brain_atlas() R code). External binaries: functions call system tools (ImageMagick, GDAL, FreeSurfer, orca). Guard changes call parse outputs add clear error messages binaries missing. See DESCRIPTION SystemRequirements checks check_magick() check_fs() present code. Reporting/progress: code uses cli, progressr verbose text output. Preserve behaviour edits (use cli::cli_* progressr::progress() patterns).","code":""},{"path":"https://ggseg.github.io/ggsegExtra/copilot-instructions.html","id":"developer-workflows-how-to-build--test--debug","dir":"","previous_headings":"","what":"Developer workflows (how to build / test / debug)","title":"NA","text":"Install dependencies (match CI): prefer remotes::install_deps(dependencies=TRUE) use pak::local_install() pkgdown.yaml. Run R CMD check: R CMD check . via devtools::check(). Run tests: devtools::test() Rscript -e 'testthat::test_dir(\"tests/testthat\")'. CI runs macOS installs system deps via brew (see .github/workflows/*). change touches code depending GDAL/ImageMagick/FreeSurfer/orca, run tests macOS matching environment. Documentation pkgdown: docs published pkgdown::deploy_to_branch() CI (.github/workflows/pkgdown.yaml).","code":""},{"path":"https://ggseg.github.io/ggsegExtra/copilot-instructions.html","id":"files-to-read-first-when-editing-or-creating-features","dir":"","previous_headings":"","what":"Files to read first when editing or creating features","title":"NA","text":"DESCRIPTION — package dependencies & SystemRequirements R/create-ggseg-atlas.R R/create-ggseg3d-atlas.R — main atlas-building logic step-based conventions inst/surfaces/ data-raw/ — examples raw assets used pipelines _pkgdown.yml, vignettes/, docs/ — examples tutorials mirror usage patterns function signatures .github/workflows/*.yaml — CI setup; useful reproducing environment & install order","code":""},{"path":"https://ggseg.github.io/ggsegExtra/copilot-instructions.html","id":"integration-points--gotchas","dir":"","previous_headings":"","what":"Integration points & gotchas","title":"NA","text":"Many real runs require external tools available Linux CI default — CI forks install via Homebrew macOS. Running pipeline OS may fail unless tools present. Code uses reticulate, terra, sf — watch platform specific binary issues prefer high-level R APIs possible. Intermediate files expected directory layout (e.g. output_dir/<atlas>/{img,regions,masks}). change file naming, update downstream readers (contour extraction, smoothing, vertex reduction).","code":""},{"path":"https://ggseg.github.io/ggsegExtra/copilot-instructions.html","id":"example-edits-the-agent-can-safely-make","dir":"","previous_headings":"","what":"Example edits the agent can safely make","title":"NA","text":"Small refactors inside R/ preserve step pipeline signatures (steps, output_dir, cleanup) retain CLI messages progress reporting. Add unit tests tests/testthat/ run quickly mock external binaries possible. Prefer test pure-R logic (e.g. coordinate transforms, palette creation make_palette_ggseg()), add skip_on_ci() tests require heavy system tools.","code":""},{"path":"https://ggseg.github.io/ggsegExtra/copilot-instructions.html","id":"when-to-ask-for-human-help","dir":"","previous_headings":"","what":"When to ask for human help","title":"NA","text":"change modifies -disk file naming, image formats, calls external binaries (ImageMagick, GDAL, FreeSurfer, orca) get human review short compatibility test macOS. large refactor atlas-building pipelines changes function signatures atlas object structure.","code":""},{"path":"https://ggseg.github.io/ggsegExtra/copilot-instructions.html","id":"where-to-find-more-context","dir":"","previous_headings":"","what":"Where to find more context","title":"NA","text":"Vignettes: vignettes/createaseg.Rmd, vignettes/createdkt.Rmd, vignettes/customatlas.Rmd Key pipeline code: R/create-ggseg-atlas.R, R/create-ggseg3d-atlas.R CI workflows: .github/workflows/*.yaml","code":""},{"path":"https://ggseg.github.io/ggsegExtra/copilot-instructions.html","id":"updating-newsmd","dir":"","previous_headings":"","what":"Updating NEWS.md","title":"NA","text":"add information relevant R-package NEWS.md. changes related workflows, pkgdown etc relevant R-package releases thus dont shouldnt listed NEWS. Organise NEWS user-facing developer facing changes, headings minor vs breaking changes.","code":""},{"path":"https://ggseg.github.io/ggsegExtra/index.html","id":"ggsegextra-","dir":"","previous_headings":"","what":"Extra Utilities for the ggseg and ggseg3d Plotting Tools","title":"Extra Utilities for the ggseg and ggseg3d Plotting Tools","text":"package contains information verified atlases compatible use ggseg ggseg3d plotting packages R. also contains functions pipelines create custom atlases.","code":""},{"path":"https://ggseg.github.io/ggsegExtra/index.html","id":"installing","dir":"","previous_headings":"","what":"Installing","title":"Extra Utilities for the ggseg and ggseg3d Plotting Tools","text":"recommend installing package r-universe build: Alternatively, install package remotes package github.","code":"# Enable this universe options(repos = c(   ggseg = 'https://ggseg.r-universe.dev',   CRAN = 'https://cloud.r-project.org'))  # Install some packages install.packages('ggsegExtra') # install.packages(\"remotes\") remotes::install_github(\"ggseg/ggsegExtra\")"},{"path":"https://ggseg.github.io/ggsegExtra/index.html","id":"development-version-of-freesurfer","dir":"","previous_headings":"Installing","what":"Development version of freesurfer","title":"Extra Utilities for the ggseg and ggseg3d Plotting Tools","text":"atlas creation functions require development version freesurfer R package yet CRAN. PR merged, install :","code":"pak::pak(\"drmowinckels/freesurfer@refactor\")"},{"path":"https://ggseg.github.io/ggsegExtra/index.html","id":"create-custom-atlases","dir":"","previous_headings":"","what":"Create custom atlases","title":"Extra Utilities for the ggseg and ggseg3d Plotting Tools","text":"tutorials make atlases available Articles package documentation page. Currently, pipeline making 3d atlases needs FreeSufer installed system ready .annot file use conversions. Improvements pipeline creating cortical atlases ggseg ggseg3d still developed. Pipelines creating sub-cortical atlases kind still infancy, yet good solutions creation. Suggestions improvement welcome GH issues direct Pull requests.","code":""},{"path":"https://ggseg.github.io/ggsegExtra/index.html","id":"available-atlases","dir":"","previous_headings":"","what":"Available atlases","title":"Extra Utilities for the ggseg and ggseg3d Plotting Tools","text":"currently 23 available atlases across 23 packages. packages, repository name location can found :","code":""},{"path":"https://ggseg.github.io/ggsegExtra/index.html","id":"ggsegeconomo","dir":"","previous_headings":"Available atlases","what":"ggsegEconomo","title":"Extra Utilities for the ggseg and ggseg3d Plotting Tools","text":"economo datasets ggseg-plotting tool support package ggseg, ggseg3d packages. contains economo atlases plot using functions two packages.","code":""},{"path":"https://ggseg.github.io/ggsegExtra/index.html","id":"ggsegflechsig","dir":"","previous_headings":"Available atlases","what":"ggsegFlechsig","title":"Extra Utilities for the ggseg and ggseg3d Plotting Tools","text":"Flechsig datasets ggseg-plotting tool support package ggseg, ggseg3d packages. contains Flechsig atlases plot using functions two packages.","code":""},{"path":"https://ggseg.github.io/ggsegExtra/index.html","id":"ggsegkleist","dir":"","previous_headings":"Available atlases","what":"ggsegKleist","title":"Extra Utilities for the ggseg and ggseg3d Plotting Tools","text":"Kleist datasets ggseg-plotting tool support package ggseg, ggseg3d packages. contains historical Kleist atlases plot using functions two packages.","code":""},{"path":"https://ggseg.github.io/ggsegExtra/index.html","id":"ggsegbrodmann","dir":"","previous_headings":"Available atlases","what":"ggsegBrodmann","title":"Extra Utilities for the ggseg and ggseg3d Plotting Tools","text":"brodmann datasets ggseg-plotting tool support package ggseg, ggseg3d packages. contains brodmann area atlases plot using functions two packages.","code":""},{"path":"https://ggseg.github.io/ggsegExtra/index.html","id":"ggsegcampbell","dir":"","previous_headings":"Available atlases","what":"ggsegCampbell","title":"Extra Utilities for the ggseg and ggseg3d Plotting Tools","text":"Campbell(1905) datasets ggseg-plotting tool support package ggseg, ggseg3d packages. contains Campbell (1905) atlases plot using functions two packages.","code":""},{"path":"https://ggseg.github.io/ggsegExtra/index.html","id":"ggsegica","dir":"","previous_headings":"Available atlases","what":"ggsegIca","title":"Extra Utilities for the ggseg and ggseg3d Plotting Tools","text":"ica datasets ggseg-plotting tool support package ggseg, ggseg3d packages. contains ica atlases plot using functions two packages.","code":""},{"path":"https://ggseg.github.io/ggsegExtra/index.html","id":"ggsegarslan","dir":"","previous_headings":"Available atlases","what":"ggsegArslan","title":"Extra Utilities for the ggseg and ggseg3d Plotting Tools","text":"arslan datasets ggseg-plotting tool support package ggseg, ggseg3d packages. contains arslan atlases plot using functions two packages.","code":""},{"path":"https://ggseg.github.io/ggsegExtra/index.html","id":"ggseggordon","dir":"","previous_headings":"Available atlases","what":"ggsegGordon","title":"Extra Utilities for the ggseg and ggseg3d Plotting Tools","text":"gordon datasets ggseg-plotting tool support package ggseg, ggseg3d packages. contains gordon atlases plot using functions two packages.","code":""},{"path":"https://ggseg.github.io/ggsegExtra/index.html","id":"ggsegaicha","dir":"","previous_headings":"Available atlases","what":"ggsegAicha","title":"Extra Utilities for the ggseg and ggseg3d Plotting Tools","text":"aicha datasets ggseg-plotting tool support package ggseg, ggseg3d packages. contains aicha atlases plot using functions two packages.","code":""},{"path":"https://ggseg.github.io/ggsegExtra/index.html","id":"ggsegaal","dir":"","previous_headings":"Available atlases","what":"ggsegAal","title":"Extra Utilities for the ggseg and ggseg3d Plotting Tools","text":"aal datasets ggseg-plotting tool support package ggseg, ggseg3d packages. contains aal atlases plot using functions two packages.","code":""},{"path":"https://ggseg.github.io/ggsegExtra/index.html","id":"ggsegpower","dir":"","previous_headings":"Available atlases","what":"ggsegPower","title":"Extra Utilities for the ggseg and ggseg3d Plotting Tools","text":"power datasets ggseg-plotting tool support package ggseg, ggseg3d packages. contains power atlases plot using functions two packages.","code":""},{"path":"https://ggseg.github.io/ggsegExtra/index.html","id":"ggsegbrainnetome","dir":"","previous_headings":"Available atlases","what":"ggsegBrainnetome","title":"Extra Utilities for the ggseg and ggseg3d Plotting Tools","text":"Brainnetome datasets ggseg-plotting tool support package ggseg, ggseg3d packages. contains Brainnetome atlases plot using functions two packages.","code":""},{"path":"https://ggseg.github.io/ggsegExtra/index.html","id":"ggsegjhu","dir":"","previous_headings":"Available atlases","what":"ggsegJHU","title":"Extra Utilities for the ggseg and ggseg3d Plotting Tools","text":"JHU datasets ggseg-plotting tool support package ggseg, ggseg3d packages. contains JHU atlases plot using functions two packages.","code":""},{"path":"https://ggseg.github.io/ggsegExtra/index.html","id":"ggsegho","dir":"","previous_headings":"Available atlases","what":"ggsegHO","title":"Extra Utilities for the ggseg and ggseg3d Plotting Tools","text":"Harvard-Oxford datasets ggseg-plotting tool support package ggseg, ggseg3d packages. contains Harvard-Oxford cortical atlases plot using functions two packages.","code":""},{"path":"https://ggseg.github.io/ggsegExtra/index.html","id":"ggsegicbm","dir":"","previous_headings":"Available atlases","what":"ggsegICBM","title":"Extra Utilities for the ggseg and ggseg3d Plotting Tools","text":"ICBM datasets ggseg-plotting tool support package ggseg, ggseg3d packages. contains ICBM atlases plot using functions two packages.","code":""},{"path":"https://ggseg.github.io/ggsegExtra/index.html","id":"ggsegdefaultextra","dir":"","previous_headings":"Available atlases","what":"ggsegDefaultExtra","title":"Extra Utilities for the ggseg and ggseg3d Plotting Tools","text":"Extra dk aseg datasets ggseg-plotting tool support package ggseg, ggseg3d packages. contains extra dk aseg, minor differences original atlases plot using functions two packages.","code":""},{"path":"https://ggseg.github.io/ggsegExtra/index.html","id":"ggsegdkt","dir":"","previous_headings":"Available atlases","what":"ggsegDKT","title":"Extra Utilities for the ggseg and ggseg3d Plotting Tools","text":"Desikan-Killiany-Tourville datasets ggseg-plotting tool support package ggseg, ggseg3d packages. contains DKT atlases plot using functions two packages.","code":""},{"path":"https://ggseg.github.io/ggsegExtra/index.html","id":"ggsegtracula","dir":"","previous_headings":"Available atlases","what":"ggsegTracula","title":"Extra Utilities for the ggseg and ggseg3d Plotting Tools","text":"Tracula datasets ggseg-plotting tool support package ggseg, ggseg3d packages. contains Tracula atlases plot using functions two packages.","code":""},{"path":"https://ggseg.github.io/ggsegExtra/index.html","id":"ggsegchen","dir":"","previous_headings":"Available atlases","what":"ggsegChen","title":"Extra Utilities for the ggseg and ggseg3d Plotting Tools","text":"Chen datasets ggseg-plotting tool support package ggseg, ggseg3d packages. contains Chen atlases plot using functions two packages.","code":""},{"path":"https://ggseg.github.io/ggsegExtra/index.html","id":"ggsegdesterieux","dir":"","previous_headings":"Available atlases","what":"ggsegDesterieux","title":"Extra Utilities for the ggseg and ggseg3d Plotting Tools","text":"Desterieux datasets ggseg-plotting tool support package ggseg, ggseg3d packages. contains Desterieux atlases plot using functions two packages.","code":""},{"path":"https://ggseg.github.io/ggsegExtra/index.html","id":"ggsegschaefer","dir":"","previous_headings":"Available atlases","what":"ggsegSchaefer","title":"Extra Utilities for the ggseg and ggseg3d Plotting Tools","text":"Schaefer datasets ggseg-plotting tool support package ggseg, ggseg3d packages. contains Schaefer atlases plot using functions two packages.","code":""},{"path":"https://ggseg.github.io/ggsegExtra/index.html","id":"ggsegglasser","dir":"","previous_headings":"Available atlases","what":"ggsegGlasser","title":"Extra Utilities for the ggseg and ggseg3d Plotting Tools","text":"Glasser datasets ggseg-plotting tool support package ggseg, ggseg3d packages. contains Glasser atlases plot using functions two packages.","code":""},{"path":"https://ggseg.github.io/ggsegExtra/index.html","id":"ggsegyeo2011","dir":"","previous_headings":"Available atlases","what":"ggsegYeo2011","title":"Extra Utilities for the ggseg and ggseg3d Plotting Tools","text":"Yeo 2011 Datasets ‘ggseg’-Package support package ggseg, ggseg3d packages. contains Yeo 2011 atlases plot using functions two packages.","code":""},{"path":"https://ggseg.github.io/ggsegExtra/index.html","id":"code-of-conduct","dir":"","previous_headings":"","what":"Code of Conduct","title":"Extra Utilities for the ggseg and ggseg3d Plotting Tools","text":"Please note ggsegExtra project released Contributor Code Conduct. contributing project, agree abide terms.","code":""},{"path":"https://ggseg.github.io/ggsegExtra/index.html","id":"report-bugs-or-requests","dir":"","previous_headings":"Code of Conduct","what":"Report bugs or requests","title":"Extra Utilities for the ggseg and ggseg3d Plotting Tools","text":"Don’t hesitate ask support using github issues, requesting new atlases. love getting help creating new atlases, may also request atlases issues, try get .","code":""},{"path":"https://ggseg.github.io/ggsegExtra/index.html","id":"funding","dir":"","previous_headings":"","what":"Funding","title":"Extra Utilities for the ggseg and ggseg3d Plotting Tools","text":"work funded EU Horizon 2020 Grant ‘Healthy minds 0-100 years: Optimizing use European brain imaging cohorts (Lifebrain)’, grant agreement 732592. project also received funding European Research Council’s Starting grant (grant agreements 283634, Anders Martin Fjell 313440 Kristine Beate Walhovd) Consolidator Grant (grant agreement 771355 Kristine Beate Walhovd 725025 Anders Martin Fjell). project received funding multiple grants Norwegian Research Council.","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/aparc_2_mesh.html","id":null,"dir":"Reference","previous_headings":"","what":"Converts annotations to atlas — aparc_2_mesh","title":"Converts annotations to atlas — aparc_2_mesh","text":"function create atlas ready data.frame ggseg3d plot plotly.","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/aparc_2_mesh.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Converts annotations to atlas — aparc_2_mesh","text":"","code":"aparc_2_mesh(   subject = \"fsaverage5\",   hemisphere = \"rh\",   surface = \"inflated\",   annot = \"aparc\",   subjects_dir = freesurfer::fs_subj_dir(),   annot_dir = file.path(subjects_dir, subject, \"label\"),   output_dir = tempdir(),   cleanup = TRUE,   verbose = TRUE )"},{"path":"https://ggseg.github.io/ggsegExtra/reference/aparc_2_mesh.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Converts annotations to atlas — aparc_2_mesh","text":"subject Freesurfer subject, must exist whatever subject directory specified set environment $SUBJECTS_DIR hemisphere hemisphere, either \"rh\" \"lh\" surface surface subjects surf-folder annot base-name annot file subjects_dir Freesurfer subject directory annot_dir path directory annot-files output_dir output directory path cleanup logical toggle removal intermediary files verbose logical indicating verbose ","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/aparc_2_mesh.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Converts annotations to atlas — aparc_2_mesh","text":"data frame one row per label","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/aparc_2_mesh.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Converts annotations to atlas — aparc_2_mesh","text":"Based . Winkler scripts","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/aparc_2_mesh.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Converts annotations to atlas — aparc_2_mesh","text":"","code":"if (FALSE) { # \\dontrun{ dt <- aparc_2_mesh() dt <- aparc_2_mesh(surface = \"white\") dt <- aparc_2_mesh(hemisphere = \"lh\") dt <- aparc_2_mesh(annot = \"aparc.a2009s\") } # }"},{"path":"https://ggseg.github.io/ggsegExtra/reference/atlas_lab2ctab.html","id":null,"dir":"Reference","previous_headings":"","what":"Label to ctab — atlas_lab2ctab","title":"Label to ctab — atlas_lab2ctab","text":"Create FreeSurfer colortab based labels. Calls FreeSurfer's mris_lab2ctab","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/atlas_lab2ctab.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Label to ctab — atlas_lab2ctab","text":"","code":"atlas_lab2ctab(output_dir, verbose)"},{"path":"https://ggseg.github.io/ggsegExtra/reference/atlas_lab2ctab.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Label to ctab — atlas_lab2ctab","text":"output_dir output directory path verbose logical indicating verbose ","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/atlas_lab2ctab.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Label to ctab — atlas_lab2ctab","text":"returns nothing, creates files file system","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/atlas_vol2label.html","id":null,"dir":"Reference","previous_headings":"","what":"Volume to label — atlas_vol2label","title":"Volume to label — atlas_vol2label","text":"Turn volumetric files labels use annotations. Calls FreeSurfer's mri_vol2label.","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/atlas_vol2label.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Volume to label — atlas_vol2label","text":"","code":"atlas_vol2label(annot_lab, output_dir, verbose)"},{"path":"https://ggseg.github.io/ggsegExtra/reference/atlas_vol2label.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Volume to label — atlas_vol2label","text":"annot_lab annotation label output_dir output directory path verbose logical indicating verbose ","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/atlas_vol2label.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Volume to label — atlas_vol2label","text":"invisibly returns list labels.","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/atlas_vol2surf.html","id":null,"dir":"Reference","previous_headings":"","what":"Nifti volume to surface — atlas_vol2surf","title":"Nifti volume to surface — atlas_vol2surf","text":"Transform Nifti volume surface file FreeSurfer. Calls FreeSurfer's mri_vol2surf transformation.","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/atlas_vol2surf.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Nifti volume to surface — atlas_vol2surf","text":"","code":"atlas_vol2surf(input_file, output_dir, projfrac = 0.5)"},{"path":"https://ggseg.github.io/ggsegExtra/reference/atlas_vol2surf.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Nifti volume to surface — atlas_vol2surf","text":"input_file nifti volume output_dir output directory path projfrac value freesurfer mri_vol2surf -projfrac","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/atlas_vol2surf.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Nifti volume to surface — atlas_vol2surf","text":"nothing, creates surface files","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/change_meshes.html","id":null,"dir":"Reference","previous_headings":"","what":"Change meshes to new system — change_meshes","title":"Change meshes to new system — change_meshes","text":"Change meshes new system","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/change_meshes.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Change meshes to new system — change_meshes","text":"","code":"change_meshes(mesh)"},{"path":"https://ggseg.github.io/ggsegExtra/reference/change_meshes.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Change meshes to new system — change_meshes","text":"mesh mesh object","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/check_fs.html","id":null,"dir":"Reference","previous_headings":"","what":"Check if FS can be run — check_fs","title":"Check if FS can be run — check_fs","text":"Check FS can run","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/check_fs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check if FS can be run — check_fs","text":"","code":"check_fs(msg = NULL, abort = FALSE)"},{"path":"https://ggseg.github.io/ggsegExtra/reference/check_fs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check if FS can be run — check_fs","text":"msg message print error abort logical. function error Freesurfer installed. Defaults FALSE.","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/check_fs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check if FS can be run — check_fs","text":"logical","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/curv2ply.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert Freesurfer curvature file to ply — curv2ply","title":"Convert Freesurfer curvature file to ply — curv2ply","text":"Function convert Freesurfer curvature file .ply","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/curv2ply.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert Freesurfer curvature file to ply — curv2ply","text":"","code":"curv2ply(input_file, output_file = paste(input_file, \".ply\"), verbose = TRUE)"},{"path":"https://ggseg.github.io/ggsegExtra/reference/curv2ply.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert Freesurfer curvature file to ply — curv2ply","text":"input_file path Freesurfer curvature file output_file path output file verbose logical indicating verbose ","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/curv2ply.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert Freesurfer curvature file to ply — curv2ply","text":".ply text","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/fs_curvatures.html","id":null,"dir":"Reference","previous_headings":"","what":"Available Freesurfer curvatures — fs_curvatures","title":"Available Freesurfer curvatures — fs_curvatures","text":"Available Freesurfer curvatures","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/fs_curvatures.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Available Freesurfer curvatures — fs_curvatures","text":"","code":"fs_curvatures()"},{"path":"https://ggseg.github.io/ggsegExtra/reference/fs_curvatures.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Available Freesurfer curvatures — fs_curvatures","text":"character","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/fs_curvatures.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Available Freesurfer curvatures — fs_curvatures","text":"","code":"fs_curvatures() #>  [1] \"area\"            \"area.mid\"        \"area.pial\"       \"avg_curv\"        #>  [5] \"curv\"            \"curv.pial\"       \"inflated.H\"      \"inflated.K\"      #>  [9] \"jacobian_white\"  \"smoothwm.BE.crv\" \"smoothwm.C.crv\"  \"smoothwm.FI.crv\" #> [13] \"smoothwm.H.crv\"  \"smoothwm.K1.crv\" \"smoothwm.K2.crv\" \"smoothwm.K.crv\"  #> [17] \"smoothwm.S.crv\"  \"sulc\"            \"thickness\"       \"volume\"          #> [21] \"w-g.pct.mgh\""},{"path":"https://ggseg.github.io/ggsegExtra/reference/fs_nofixcurv.html","id":null,"dir":"Reference","previous_headings":"","what":"Available Freesurfer no fix curvatures — fs_nofixcurv","title":"Available Freesurfer no fix curvatures — fs_nofixcurv","text":"Available Freesurfer fix curvatures","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/fs_nofixcurv.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Available Freesurfer no fix curvatures — fs_nofixcurv","text":"","code":"fs_nofixcurv()"},{"path":"https://ggseg.github.io/ggsegExtra/reference/fs_nofixcurv.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Available Freesurfer no fix curvatures — fs_nofixcurv","text":"character","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/fs_nofixcurv.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Available Freesurfer no fix curvatures — fs_nofixcurv","text":"","code":"fs_nofixcurv() #> [1] \"defect_borders\" \"defect_chull\"   \"defect_labels\""},{"path":"https://ggseg.github.io/ggsegExtra/reference/fs_surfaces.html","id":null,"dir":"Reference","previous_headings":"","what":"Available Freesurfer surfaces — fs_surfaces","title":"Available Freesurfer surfaces — fs_surfaces","text":"Available Freesurfer surfaces","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/fs_surfaces.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Available Freesurfer surfaces — fs_surfaces","text":"","code":"fs_surfaces()"},{"path":"https://ggseg.github.io/ggsegExtra/reference/fs_surfaces.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Available Freesurfer surfaces — fs_surfaces","text":"character","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/fs_surfaces.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Available Freesurfer surfaces — fs_surfaces","text":"","code":"fs_surfaces() #>  [1] \"inflated\"       \"inflated.nofix\" \"orig\"           \"orig.nofix\"     #>  [5] \"pial\"           \"qsphere.nofix\"  \"smoothwm\"       \"smoothwm.nofix\" #>  [9] \"sphere\"         \"sphere.reg\"     \"white\"          \"LCBC\""},{"path":"https://ggseg.github.io/ggsegExtra/reference/get_mesh.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract mesh data from ply — get_mesh","title":"Extract mesh data from ply — get_mesh","text":".ply files contain lot information. ggseg3d, need information vertices faces mesh. Thes function opens ply file, organises meshes faces single list.","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/get_mesh.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract mesh data from ply — get_mesh","text":"","code":"get_mesh(ply, ...)"},{"path":"https://ggseg.github.io/ggsegExtra/reference/get_mesh.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract mesh data from ply — get_mesh","text":"ply path ply-file ... arguments geomorph::read.ply()","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/get_mesh.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract mesh data from ply — get_mesh","text":"list meshes faces","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/get_mesh.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract mesh data from ply — get_mesh","text":"","code":"if (FALSE) { # \\dontrun{ get_mesh(\"path/to/surface.ply\")  # Turn off showing the ply when reading get_mesh(\"path/to/surface.ply\", ShowSpecimen = FALSE) } # }"},{"path":"https://ggseg.github.io/ggsegExtra/reference/ggsegExtra-package.html","id":null,"dir":"Reference","previous_headings":"","what":"ggsegExtra: Extra Utilities for the 'ggseg' and 'ggseg3d' Plotting Tools — ggsegExtra-package","title":"ggsegExtra: Extra Utilities for the 'ggseg' and 'ggseg3d' Plotting Tools — ggsegExtra-package","text":"Contains functions create new data sets compatible 'ggseg' 'ggseg3d' packages plotting brain segmentations R. Requires several external software installed system atlas creations work, available windows. atlas creation tools exist 2d simple features data, also 3d tri-surface mesh plots. Also list compatible data sets functions easy installation .","code":""},{"path":[]},{"path":"https://ggseg.github.io/ggsegExtra/reference/ggsegExtra-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"ggsegExtra: Extra Utilities for the 'ggseg' and 'ggseg3d' Plotting Tools — ggsegExtra-package","text":"Maintainer: Athanasia Mo Mowinckel .m.mowinckel@psykologi.uio.(ORCID) Authors: Didac Vidal-Piñeiro d.v.pineiro@psykologi.uio.(ORCID) contributors: John Muschelli muschellij2@gmail.com (ORCID) [contributor]","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/ggseg_atlas_repos.html","id":null,"dir":"Reference","previous_headings":"","what":"List all online repositories with ggseg-atlases — ggseg_atlas_repos","title":"List all online repositories with ggseg-atlases — ggseg_atlas_repos","text":"Function easily find online repositories contain ggseg atlases","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/ggseg_atlas_repos.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List all online repositories with ggseg-atlases — ggseg_atlas_repos","text":"","code":"ggseg_atlas_repos(pattern = NULL, ...)"},{"path":"https://ggseg.github.io/ggsegExtra/reference/ggseg_atlas_repos.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"List all online repositories with ggseg-atlases — ggseg_atlas_repos","text":"pattern string pattern search repos ... additional arguments base::grep()","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/ggseg_atlas_repos.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"List all online repositories with ggseg-atlases — ggseg_atlas_repos","text":"data frame online repositories ggseg-atlases","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/ggseg_atlas_repos.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"List all online repositories with ggseg-atlases — ggseg_atlas_repos","text":"","code":"if (FALSE) { # \\dontrun{ ggseg_atlas_repos()  ggseg_atlas_repos(\"yeo\") } # }"},{"path":"https://ggseg.github.io/ggsegExtra/reference/install_ggseg_atlas.html","id":null,"dir":"Reference","previous_headings":"","what":"Install ggseg-atlas from repo — install_ggseg_atlas","title":"Install ggseg-atlas from repo — install_ggseg_atlas","text":"installs ggseg-atlas library ggseg r-universe https://ggseg.r-universe.dev/#builds .","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/install_ggseg_atlas.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Install ggseg-atlas from repo — install_ggseg_atlas","text":"","code":"install_ggseg_atlas(   package,   repos = c(ggseg = \"https://ggseg.r-universe.dev\", getOption(\"repos\")),   ... )"},{"path":"https://ggseg.github.io/ggsegExtra/reference/install_ggseg_atlas.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Install ggseg-atlas from repo — install_ggseg_atlas","text":"package package name repos vector repositories install . Defaults ggseg r-universe CRAN. ... additional arguments install.packages.","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/install_ggseg_atlas.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Install ggseg-atlas from repo — install_ggseg_atlas","text":"install, temporarily alter install repo settings also use ggseg r-universe build source packages. settings restored function exits.","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/install_ggseg_atlas.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Install ggseg-atlas from repo — install_ggseg_atlas","text":"","code":"if (FALSE) { # \\dontrun{ ggseg_atlas_repos(\"yeo\") install_ggseg_atlas(\"ggsegYeo2011\") } # }"},{"path":"https://ggseg.github.io/ggsegExtra/reference/install_ggseg_atlas_all.html","id":null,"dir":"Reference","previous_headings":"","what":"Install all registered ggseg-atlases — install_ggseg_atlas_all","title":"Install all registered ggseg-atlases — install_ggseg_atlas_all","text":"Calls ggseg_atlas_repos(), installs libraries listed. careful calling function, likely take quite time complete, also contain lot heavy data. recommend installing atlases likely use demand.","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/install_ggseg_atlas_all.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Install all registered ggseg-atlases — install_ggseg_atlas_all","text":"","code":"install_ggseg_atlas_all(   repos = c(ggseg = \"https://ggseg.r-universe.dev\", getOption(\"repos\")),   ... )"},{"path":"https://ggseg.github.io/ggsegExtra/reference/install_ggseg_atlas_all.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Install all registered ggseg-atlases — install_ggseg_atlas_all","text":"repos repositories install . Defaults ggseg r-universe CRAN mirror. ... additional arguments install.packages.","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/install_ggseg_atlas_all.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Install all registered ggseg-atlases — install_ggseg_atlas_all","text":"","code":"if (FALSE) { # \\dontrun{ install_ggseg_atlas_all() } # }"},{"path":"https://ggseg.github.io/ggsegExtra/reference/is_ctab.html","id":null,"dir":"Reference","previous_headings":"","what":"Check if object is colourtable — is_ctab","title":"Check if object is colourtable — is_ctab","text":"Check object colourtable","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/is_ctab.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check if object is colourtable — is_ctab","text":"","code":"is_ctab(colourtable)"},{"path":"https://ggseg.github.io/ggsegExtra/reference/is_ctab.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check if object is colourtable — is_ctab","text":"colourtable data frame colour table","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/is_ctab.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check if object is colourtable — is_ctab","text":"logical","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/lcbc_surf2surf.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert LCBC surface file to other subjects — lcbc_surf2surf","title":"Convert LCBC surface file to other subjects — lcbc_surf2surf","text":"Convert LCBC surface file subjects","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/lcbc_surf2surf.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert LCBC surface file to other subjects — lcbc_surf2surf","text":"","code":"lcbc_surf2surf(   input_volume,   source_subject = \"fsaverage\",   target_subject = \"fsaverage5\",   hemisphere = \"rh\",   subjects_dir = fs_subj_dir(),   output_dir = file.path(subjects_dir, target_subject, \"surf\"),   cortex = TRUE,   verbose = TRUE )"},{"path":"https://ggseg.github.io/ggsegExtra/reference/lcbc_surf2surf.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert LCBC surface file to other subjects — lcbc_surf2surf","text":"input_volume path input volume source_subject source subject target_subject target subject hemisphere hemisphere, either \"rh\" \"lh\" subjects_dir Freesurfer subject directory output_dir output directory path cortex toggle \"–cortex\" (TRUE) \"–-cortex\" (FALSE) verbose logical indicating verbose ","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/make_aparc_2_3datlas.html","id":null,"dir":"Reference","previous_headings":"","what":"Create cortical ggseg3d-atlas from annot-file — make_aparc_2_3datlas","title":"Create cortical ggseg3d-atlas from annot-file — make_aparc_2_3datlas","text":"Function loops hemispheres surfaces create data frame ready use ggseg3d.","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/make_aparc_2_3datlas.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create cortical ggseg3d-atlas from annot-file — make_aparc_2_3datlas","text":"","code":"make_aparc_2_3datlas(   annot,   subject = \"fsaverage5\",   hemisphere = c(\"rh\", \"lh\"),   surface = c(\"inflated\", \"LCBC\"),   subjects_dir = freesurfer::fs_subj_dir(),   annot_dir = file.path(subjects_dir, subject, \"label\"),   output_dir = tempdir(),   cleanup = TRUE,   verbose = TRUE )"},{"path":"https://ggseg.github.io/ggsegExtra/reference/make_aparc_2_3datlas.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create cortical ggseg3d-atlas from annot-file — make_aparc_2_3datlas","text":"annot annotation file, name without hemisphere information .annot extension, annot_dir subject Freesurfer subject, must exist whatever subject directory specified set environment $SUBJECTS_DIR hemisphere hemisphere, either \"rh\" \"lh\" surface Freesurfer surface subjects_dir Freesurfer subject directory annot_dir path directory annot-files output_dir output directory path cleanup logical toggle removal intermediary files verbose logical indicating verbose ","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/make_aparc_2_3datlas.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create cortical ggseg3d-atlas from annot-file — make_aparc_2_3datlas","text":"nested data frame ggseg3d-atlas","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/make_aparc_2_3datlas.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Create cortical ggseg3d-atlas from annot-file — make_aparc_2_3datlas","text":"recommended change region names atlas, atlas name something shorter. See dk_3d atlas examples.","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/make_aparc_2_3datlas.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create cortical ggseg3d-atlas from annot-file — make_aparc_2_3datlas","text":"","code":"if (FALSE) { # \\dontrun{ dt <- aparc_2_3datlas(annot = \"aparc.a2009s\") dt <- aparc_2_3datlas(annot = \"aparc.a2009s\",                       surface = \"sphere\") } # }"},{"path":"https://ggseg.github.io/ggsegExtra/reference/make_ggseg3d_2_ggseg.html","id":null,"dir":"Reference","previous_headings":"","what":"Turn ggseg3d-atlas to ggseg — make_ggseg3d_2_ggseg","title":"Turn ggseg3d-atlas to ggseg — make_ggseg3d_2_ggseg","text":"Function create data.frame based ggseg3d atlas, based contours segment.","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/make_ggseg3d_2_ggseg.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Turn ggseg3d-atlas to ggseg — make_ggseg3d_2_ggseg","text":"","code":"make_ggseg3d_2_ggseg(   ggseg3d_atlas,   steps = 1:7,   output_dir = tempdir(),   view = c(\"medial\", \"lateral\"),   tolerance = 0,   smoothness = 5,   cleanup = FALSE )"},{"path":"https://ggseg.github.io/ggsegExtra/reference/make_ggseg3d_2_ggseg.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Turn ggseg3d-atlas to ggseg — make_ggseg3d_2_ggseg","text":"ggseg3d_atlas object class ggseg3d-atlas steps numeric vector steps run output_dir output directory path view sides brain snapshotted tolerance tolerance vertex reduction st_simplify smoothness smoothing factor, argument smooth cleanup logical toggle removal intermediary files","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/make_ggseg3d_2_ggseg.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Turn ggseg3d-atlas to ggseg — make_ggseg3d_2_ggseg","text":"data.frame ready manual cleaning turning proper ggseg3d-atlas","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/make_ggseg3d_2_ggseg.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Turn ggseg3d-atlas to ggseg — make_ggseg3d_2_ggseg","text":"","code":"if (FALSE) { # \\dontrun{  # Create the DKT atlas as found in the FreeSurfer Subjects directory # And output the temporary files to the Desktop. dkt_3d <- make_aparc_2_3datlas(annot = \"aparc.DKTatlas\",     output_dir = \"~/Desktop/\") } # }"},{"path":"https://ggseg.github.io/ggsegExtra/reference/make_palette_ggseg.html","id":null,"dir":"Reference","previous_headings":"","what":"Create ggseg palette from ggseg3d-atlas — make_palette_ggseg","title":"Create ggseg palette from ggseg3d-atlas — make_palette_ggseg","text":"atlases ggseg palettes based colours paper originally introducing atlas. colours hard-coded ggseg3d-atlases. function extracts makes object ready incorporation ggseg-atlas repository","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/make_palette_ggseg.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create ggseg palette from ggseg3d-atlas — make_palette_ggseg","text":"","code":"make_palette_ggseg(ggseg3d_atlas)"},{"path":"https://ggseg.github.io/ggsegExtra/reference/make_palette_ggseg.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create ggseg palette from ggseg3d-atlas — make_palette_ggseg","text":"ggseg3d_atlas ggseg3d-atlas","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/make_palette_ggseg.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create ggseg palette from ggseg3d-atlas — make_palette_ggseg","text":"list colour palette","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/make_palette_ggseg.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create ggseg palette from ggseg3d-atlas — make_palette_ggseg","text":"","code":"make_palette_ggseg(dk_3d) #> $dk #>                   bankssts  caudal anterior cingulate  #>                  \"#196428\"                  \"#7D64A0\"  #>      caudal middle frontal            corpus callosum  #>                  \"#641900\"                  \"#784632\"  #>                     cuneus                 entorhinal  #>                  \"#DC1464\"                  \"#DC140A\"  #>                   fusiform          inferior parietal  #>                  \"#B4DC8C\"                  \"#DC3CDC\"  #>          inferior temporal          isthmus cingulate  #>                  \"#B42878\"                  \"#8C148C\"  #>          lateral occipital      lateral orbitofrontal  #>                  \"#141E8C\"                  \"#234B32\"  #>                    lingual       medial orbitofrontal  #>                  \"#E18C8C\"                  \"#C8234B\"  #>            middle temporal            parahippocampal  #>                  \"#A06432\"                  \"#14DC3C\"  #>                paracentral           pars opercularis  #>                  \"#3CDC3C\"                  \"#DCB48C\"  #>             pars orbitalis          pars triangularis  #>                  \"#146432\"                  \"#DC3C14\"  #>              pericalcarine                postcentral  #>                  \"#78643C\"                  \"#DC1414\"  #>        posterior cingulate                 precentral  #>                  \"#DCB4DC\"                  \"#3C14DC\"  #>                  precuneus rostral anterior cingulate  #>                  \"#A08CB4\"                  \"#50148C\"  #>     rostral middle frontal           superior frontal  #>                  \"#4B327D\"                  \"#14DCA0\"  #>          superior parietal          superior temporal  #>                  \"#14B48C\"                  \"#8CDCDC\"  #>              supramarginal               frontal pole  #>                  \"#50A014\"                  \"#640064\"  #>              temporal pole        transverse temporal  #>                  \"#464646\"                  \"#9696C8\"  #>                     insula  #>                  \"#FFC020\"  #>"},{"path":"https://ggseg.github.io/ggsegExtra/reference/make_volumetric_2_3datlas.html","id":null,"dir":"Reference","previous_headings":"","what":"Volumetric segmentation to 3d-atlas — make_volumetric_2_3datlas","title":"Volumetric segmentation to 3d-atlas — make_volumetric_2_3datlas","text":"Function create ggseg3d-atlas volumetric parcellation. Currently tested using .mgz extension images. call command-line tools complete process.","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/make_volumetric_2_3datlas.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Volumetric segmentation to 3d-atlas — make_volumetric_2_3datlas","text":"","code":"make_volumetric_2_3datlas(   template,   color_lut = NULL,   subject = \"fsaverage5\",   subjects_dir = freesurfer::fs_subj_dir(),   steps = 1:5,   output_dir = tempdir(),   verbose = TRUE,   cleanup = TRUE )"},{"path":"https://ggseg.github.io/ggsegExtra/reference/make_volumetric_2_3datlas.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Volumetric segmentation to 3d-atlas — make_volumetric_2_3datlas","text":"template template volume.mgz file path color_lut Freesurfer colour look--table. Either path data.frame is_ctab() subject Freesurfer subject, must exist whatever subject directory specified set environment $SUBJECTS_DIR subjects_dir Freesurfer subject directory steps cleanup disabled, files saved, steps can re-run individually output_dir output directory path verbose logical indicating verbose cleanup logical toggle removal intermediary files","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/make_volumetric_2_3datlas.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Volumetric segmentation to 3d-atlas — make_volumetric_2_3datlas","text":"returns ggseg3d-atlas ready object. Might need manual cleaning become good atlas.","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/make_volumetric_2_3datlas.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Volumetric segmentation to 3d-atlas — make_volumetric_2_3datlas","text":"","code":"if (FALSE) { # \\dontrun{  fs_subject_dir <- freesurfer::fs_dir() aseg_temp <- file.path(fs_subject_dir, \"fsaverage5/mri/aseg.mgz\") colorlut <- file.path(fs_subject_dir, \"ASegStatsLUT.txt\")  make_volumetric_2_3datlas(aseg_temp, colorlut) } # }"},{"path":"https://ggseg.github.io/ggsegExtra/reference/make_volumetric_ggseg.html","id":null,"dir":"Reference","previous_headings":"","what":"Make ggseg atlas from volumetric template — make_volumetric_ggseg","title":"Make ggseg atlas from volumetric template — make_volumetric_ggseg","text":"making atlas non-cortical atlas, volumetric atlases best options. Instead snapshotting images inflated brain, snapshot brain slices given x, y, z coordinates slices trhoush slices argument.","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/make_volumetric_ggseg.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Make ggseg atlas from volumetric template — make_volumetric_ggseg","text":"","code":"make_volumetric_ggseg(   label_file,   subject = \"fsaverage5\",   subjects_dir = fs_subj_dir(),   output_dir = tempdir(),   color_lut = NULL,   steps = 1:8,   skip_existing = TRUE,   slices = data.frame(x = c(130, 122, 122), y = c(130, 235, 112), z = c(130, 100, 106),     view = c(\"axial\", \"sagittal\", \"coronal\"), stringsAsFactors = FALSE),   vertex_size_limits = NULL,   dilate = NULL,   tolerance = 0,   smoothness = 5,   verbose = TRUE,   cleanup = FALSE )"},{"path":"https://ggseg.github.io/ggsegExtra/reference/make_volumetric_ggseg.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Make ggseg atlas from volumetric template — make_volumetric_ggseg","text":"label_file volumetric image containing labels subject Freesurfer subject, must exist whatever subject directory specified set environment $SUBJECTS_DIR subjects_dir Freesurfer subject directory output_dir output directory path color_lut file containing color information labels steps numeric vector steps run skip_existing logical. slice snapshots already exist, skipped. slices data.frame columns x, y, z, view specifying coordinates view slice snapshots. vertex_size_limits numeric vector two, setting minimum maximum vector size polygons. Defaults NULL, sets limits. dilate numeric. Dilation factor polygons. Default NULL applies dilation. tolerance tolerance vertex reduction st_simplify smoothness smoothing factor, argument smooth verbose logical indicating verbose cleanup logical toggle removal intermediary files","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/make_volumetric_ggseg.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Make ggseg atlas from volumetric template — make_volumetric_ggseg","text":"brain-atlas class","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/make_volumetric_ggseg.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Make ggseg atlas from volumetric template — make_volumetric_ggseg","text":"","code":"if (FALSE) { # \\dontrun{     label_file <- file.path(fs_subj_dir(), subject, \"mri/aseg.mgz\")    slices = data.frame(x=130, y=130, z=130, view=\"axial\", stringsAsFactors = FALSE)     aseg2 <- make_volumetric_ggseg(       label_file =  label_file,       slices = slices    )     # Have a look at the atlas    plot(aseg2) } # }"},{"path":"https://ggseg.github.io/ggsegExtra/reference/mri_annotation2label.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert annotation to label — mri_annotation2label","title":"Convert annotation to label — mri_annotation2label","text":"Calls FreeSurfer's mri_annotation2label split annotation file several labels.","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/mri_annotation2label.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert annotation to label — mri_annotation2label","text":"","code":"mri_annotation2label(   annot_name,   subject = \"fsaverage5\",   hemisphere = \"rh\",   output_dir = fs_subj_dir(),   verbose = TRUE,   opts = NULL )"},{"path":"https://ggseg.github.io/ggsegExtra/reference/mri_annotation2label.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert annotation to label — mri_annotation2label","text":"annot_name annotation name. File exist subjects label directory subject Freesurfer subject, must exist whatever subject directory specified set environment $SUBJECTS_DIR hemisphere hemisphere, either \"rh\" \"lh\" output_dir output directory path verbose logical indicating verbose opts arguments freesurfer command","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/mri_annotation2label.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert annotation to label — mri_annotation2label","text":"nothing. Runs command line write label files","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/mri_annotation2label.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert annotation to label — mri_annotation2label","text":"","code":"if (FALSE) { # \\dontrun{ # for freesurfer help see: freesurfer::fs_help(\"mri_annotation2label\") mri_annotation2label(annot_name = \"aparc\")  mri_annotation2label(annot_name = \"aparc.a2009s\")  mri_annotation2label(subject = \"fsaverage\", annot_name = \"aparc.a2009s\") } # }"},{"path":"https://ggseg.github.io/ggsegExtra/reference/mri_surf2surf_rereg.html","id":null,"dir":"Reference","previous_headings":"","what":"Re-register an annotation file — mri_surf2surf_rereg","title":"Re-register an annotation file — mri_surf2surf_rereg","text":"Annotation files subject specific. registered fsaverage, recommend using fsaverage5 mesh plots ggseg3d, contain decent balance number vertices detailed rendering speed.","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/mri_surf2surf_rereg.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Re-register an annotation file — mri_surf2surf_rereg","text":"","code":"mri_surf2surf_rereg(   subject,   annot,   hemi = c(\"lh\", \"rh\"),   target_subject = \"fsaverage5\",   output_dir = file.path(fs_subj_dir(), subject, \"label\"),   verbose = TRUE )"},{"path":"https://ggseg.github.io/ggsegExtra/reference/mri_surf2surf_rereg.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Re-register an annotation file — mri_surf2surf_rereg","text":"subject subject original annotation file registered annot annotation file name (found subjects_dir) hemi hemisphere (one \"lh\" \"rh\") target_subject subject re-register annotation (default fsaverage5) output_dir output directory path verbose logical indicating verbose ","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/mri_surf2surf_rereg.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Re-register an annotation file — mri_surf2surf_rereg","text":"nothing","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/mri_surf2surf_rereg.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Re-register an annotation file — mri_surf2surf_rereg","text":"","code":"if (FALSE) { # \\dontrun{ # For help see: freesurfer::fs_help(\"mri_surf2surf\")  mri_surf2surf_rereg(subject = \"bert\",                     annot = \"aparc.DKTatlas\",                     target_subject = \"fsaverage5\") } # }"},{"path":"https://ggseg.github.io/ggsegExtra/reference/mri_vol2label.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert volume to label — mri_vol2label","title":"Convert volume to label — mri_vol2label","text":"Converts values volume surface overlay label. program searches input values equal labelid. xyz values point computed based tkregister voxel--RAS matrix (volume) xyz specified surface.  xyz values stored labelfile label file format. statistic value set 0.  program can used mri volume, designed convert parcellation volumes, happen stored mri format. Calls FreeSurfer's mri_vol2label.","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/mri_vol2label.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert volume to label — mri_vol2label","text":"","code":"mri_vol2label(   input_file,   label_id,   hemisphere = \"rh\",   output_dir,   surface = NULL,   subject = \"fsaverage5\",   subjects_dir = fs_subj_dir(),   opts = NULL,   verbose = TRUE )"},{"path":"https://ggseg.github.io/ggsegExtra/reference/mri_vol2label.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert volume to label — mri_vol2label","text":"input_file input volume label_id label run hemisphere hemisphere, either \"rh\" \"lh\" output_dir output directory path surface output surface subject Freesurfer subject, must exist whatever subject directory specified set environment $SUBJECTS_DIR subjects_dir Freesurfer subject directory opts arguments freesurfer command verbose logical indicating verbose ","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/mri_vol2label.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert volume to label — mri_vol2label","text":"returns nothing. Writes label file.","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/mri_vol2label.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert volume to label — mri_vol2label","text":"","code":"if (FALSE) { # \\dontrun{ # for freesurfer help see: freesurfer::fs_help(\"mri_vol2label\")  out_dir <- tempdir() vol <- file.path(freesurfer::fs_subj_dir(),                  \"fsaverage5/mri/aseg.mgz\")  mri_vol2label(vol,      label_id = 2,      hemisphere = \"rh\",      output_dir = out_dir)   # delete output dir when not needed  unlink(out_dir) } # }"},{"path":"https://ggseg.github.io/ggsegExtra/reference/mris_ca_label.html","id":null,"dir":"Reference","previous_headings":"","what":"MRI ca label — mris_ca_label","title":"MRI ca label — mris_ca_label","text":"single subject, produces annotation file, cortical surface vertex assigned neuroanatomical label. automatic procedure employs data previously-prepared atlas file. atlas file created training set, capturing region data manually drawn neuroanatomists combined statistics variability correlated geometric information derived cortical model (sulcus curvature). Besides atlases provided FreeSurfer, new ones can prepared using mris_ca_train).","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/mris_ca_label.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"MRI ca label — mris_ca_label","text":"","code":"mris_ca_label(   subject = \"fsaverage5\",   hemisphere = \"lh\",   canonsurf = \"sphere.reg\",   classifier = file.path(fs_dir(), \"average/lh.DKTatlas40.gcs\"),   output_file,   subjects_dir = fs_subj_dir(),   opts = NULL )"},{"path":"https://ggseg.github.io/ggsegExtra/reference/mris_ca_label.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"MRI ca label — mris_ca_label","text":"subject Freesurfer subject, must exist whatever subject directory specified set environment $SUBJECTS_DIR hemisphere hemisphere, either \"rh\" \"lh\" canonsurf canonical surface file. Ie: name spherical surface file describes registration subject's vertices reference \"average\" surface. Example: sphere.reg classifier specify classifier array input file (atlas file) output_file path output file subjects_dir Freesurfer subject directory opts arguments freesurfer command","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/mris_ca_label.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"MRI ca label — mris_ca_label","text":"","code":"if (FALSE) { # \\dontrun{ # for freesurfer help see: freesurfer::fs_help(\"mris_ca_label\") mris_ca_label(output_file = \"test.lh.annot\")  mris_ca_label(hemisphere = \"rh\", output_file = \"test.rh.annot\") } # }"},{"path":"https://ggseg.github.io/ggsegExtra/reference/mris_label2annot.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert Label to Annotation — mris_label2annot","title":"Convert Label to Annotation — mris_label2annot","text":"labels rather full annotation file, can combined FreeSurfer's mris_label2annot.","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/mris_label2annot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert Label to Annotation — mris_label2annot","text":"","code":"mris_label2annot(   labels,   hemisphere = \"rh\",   ctab,   subject = \"fsaverage5\",   subjects_dir = fs_subj_dir(),   output_dir = subjects_dir,   opts = NULL,   verbose = TRUE )"},{"path":"https://ggseg.github.io/ggsegExtra/reference/mris_label2annot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert Label to Annotation — mris_label2annot","text":"labels label file path vector hemisphere hemisphere, either \"rh\" \"lh\" ctab colourtable file subject Freesurfer subject, must exist whatever subject directory specified set environment $SUBJECTS_DIR subjects_dir Freesurfer subject directory output_dir output directory path opts arguments freesurfer command verbose logical indicating verbose ","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/mris_label2annot.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert Label to Annotation — mris_label2annot","text":"","code":"if (FALSE) { # \\dontrun{ # for freesurfer help see: freesurfer::fs_help(\"mris_label2annot\")  subj_dir <- freesurfer::fs_subj_dir() # Split up aparc annot into labels mri_annotation2label(annot_name = \"aparc\")  # get annot for colour labels annot <- freesurfer::read_annotation(               file.path(subj_dir,                         \"fsaverage5/label/rh.aparc.annot\"))  labels <- list.files(    file.path(subj_dir, \"fsaverage5/label/aparc\"),     full.names = TRUE)  # Write colortable to file ctab_file <- tempfile(fileext = \".ctab\") write_ctab(annot$colortable, ctab_file)  # Combine labels back into annotation mris_label2annot(labels, hemisphere = \"rh\", ctab = ctab_file) } # }"},{"path":"https://ggseg.github.io/ggsegExtra/reference/read_ctab.html","id":null,"dir":"Reference","previous_headings":"","what":"Read colourtab — read_ctab","title":"Read colourtab — read_ctab","text":"Read FreeSurfer colortab file.","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/read_ctab.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read colourtab — read_ctab","text":"","code":"read_ctab(path)"},{"path":"https://ggseg.github.io/ggsegExtra/reference/read_ctab.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read colourtab — read_ctab","text":"path path read ","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/read_ctab.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read colourtab — read_ctab","text":"data.frame index, label name RGBA colours","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/restruct_old_3datlas.html","id":null,"dir":"Reference","previous_headings":"","what":"Change old atlas setup to new — restruct_old_3datlas","title":"Change old atlas setup to new — restruct_old_3datlas","text":"Change old atlas setup new","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/restruct_old_3datlas.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Change old atlas setup to new — restruct_old_3datlas","text":"","code":"restruct_old_3datlas(atlas_data)"},{"path":"https://ggseg.github.io/ggsegExtra/reference/restruct_old_3datlas.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Change old atlas setup to new — restruct_old_3datlas","text":"atlas_data ggseg3d-atlas object","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/smooth2srf.html","id":null,"dir":"Reference","previous_headings":"","what":"Turn smooth file to ascii — smooth2srf","title":"Turn smooth file to ascii — smooth2srf","text":"Turn smooth file ascii","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/smooth2srf.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Turn smooth file to ascii — smooth2srf","text":"","code":"smooth2srf(input_file, output_file, verbose)"},{"path":"https://ggseg.github.io/ggsegExtra/reference/smooth2srf.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Turn smooth file to ascii — smooth2srf","text":"input_file input file path output_file path output file verbose logical indicating verbose ","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/subject_2_ascii.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert subject surface files to ascii — subject_2_ascii","title":"Convert subject surface files to ascii — subject_2_ascii","text":"function goes specified subject,  per hemisphere, surface, curvature fix curvature specified turns ascii files.","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/subject_2_ascii.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert subject surface files to ascii — subject_2_ascii","text":"","code":"subject_2_ascii(   subject = \"fsaverage5\",   hemisphere = c(\"rh\", \"lh\"),   surfaces = fs_surfaces(),   curvatures = fs_curvatures(),   nofix_curv = fs_nofixcurv(),   subjects_dir = freesurfer::fs_subj_dir(),   output_dir = subjects_dir,   verbose = TRUE )"},{"path":"https://ggseg.github.io/ggsegExtra/reference/subject_2_ascii.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert subject surface files to ascii — subject_2_ascii","text":"subject Freesurfer subject, must exist whatever subject directory specified set environment $SUBJECTS_DIR hemisphere hemisphere, either \"rh\" \"lh\" surfaces string vector surfaces curvatures string vector curvatures nofix_curv string vector nofix curvatures subjects_dir Freesurfer subject directory output_dir output directory path verbose logical indicating verbose ","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/subject_2_ascii.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert subject surface files to ascii — subject_2_ascii","text":"return. Writes files.","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/subject_2_ascii.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert subject surface files to ascii — subject_2_ascii","text":"","code":"if (FALSE) { # \\dontrun{ subject_2_ascii() subject_2_ascii(\"fsaverage\") subject_2_ascii(\"bert\") } # }"},{"path":"https://ggseg.github.io/ggsegExtra/reference/surf2ply.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert Freesurfer surface file into ply — surf2ply","title":"Convert Freesurfer surface file into ply — surf2ply","text":"Function convert Freesurfer surface file .ply","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/surf2ply.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert Freesurfer surface file into ply — surf2ply","text":"","code":"surf2ply(input_file, output_file = paste(input_file, \".ply\"), verbose = TRUE)"},{"path":"https://ggseg.github.io/ggsegExtra/reference/surf2ply.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert Freesurfer surface file into ply — surf2ply","text":"input_file path Freesurfer surface file output_file path output file verbose logical indicating verbose ","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/surf2ply.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert Freesurfer surface file into ply — surf2ply","text":"ply text","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/surfsplit.html","id":null,"dir":"Reference","previous_headings":"","what":"Split surface file into separate plys — surfsplit","title":"Split surface file into separate plys — surfsplit","text":"Function split surface ply several ply's based freesurfer label file.","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/surfsplit.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Split surface file into separate plys — surfsplit","text":"","code":"surfsplit(   srf_ply,   label_path,   prefix = \"test\",   output_dir = dirname(label_path),   verbose = TRUE )"},{"path":"https://ggseg.github.io/ggsegExtra/reference/surfsplit.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Split surface file into separate plys — surfsplit","text":"srf_ply Surface ply path label_path label dpv file prefix output prefix output_dir output directory path verbose logical indicating verbose ","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/surfsplit.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Split surface file into separate plys — surfsplit","text":"list ply meshes. also write ply meshes files.","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/surfsplit.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Split surface file into separate plys — surfsplit","text":"Script adapted R ggseg based scripts Anderson M. Winkler: http://brainder.org","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/write_ctab.html","id":null,"dir":"Reference","previous_headings":"","what":"Write colourtab — write_ctab","title":"Write colourtab — write_ctab","text":"write colortab file, format accessible FreeSurfer.","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/write_ctab.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Write colourtab — write_ctab","text":"","code":"write_ctab(x, path)"},{"path":"https://ggseg.github.io/ggsegExtra/reference/write_ctab.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Write colourtab — write_ctab","text":"x colourtab data path path write ","code":""},{"path":"https://ggseg.github.io/ggsegExtra/reference/write_ctab.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Write colourtab — write_ctab","text":"returns nothing, writes file","code":""},{"path":[]},{"path":"https://ggseg.github.io/ggsegExtra/news/index.html","id":"id_160-1-6","dir":"Changelog","previous_headings":"","what":"1.6.0","title":"ggsegExtra 1.6","text":"Removed rgdal dependency, replaced sf/terra (#49, #59) Fixed r-universe API calls (JSON array format change) Fixed vignette build issues conditional evaluation suggested packages Replaced reticulate/kaleido webshot2 plotly screenshots Updated system setup vignette new requirements Added documentation parallel processing progress bars Added note freesurfer dev version requirement Updated CITATION use bibentry() Updated pkgdown site ggseg brand styling Fixed mris_label2annot example documentation","code":""},{"path":[]},{"path":"https://ggseg.github.io/ggsegExtra/news/index.html","id":"id_1533003-1-5","dir":"Changelog","previous_headings":"","what":"1.5.33.003","title":"ggsegExtra 1.5","text":"small bug fix prevented calls FreeSurfer Possibility initiate new atlas project RStudio Project GUI","code":""},{"path":"https://ggseg.github.io/ggsegExtra/news/index.html","id":"ggsegextra-1-5","dir":"Changelog","previous_headings":"","what":"ggsegExtra 1.5.33","title":"ggsegExtra 1.5","text":"removes purrr dependency used ggseg r-universe install repo install functions","code":""},{"path":"https://ggseg.github.io/ggsegExtra/news/index.html","id":"ggsegextra-1-5-1","dir":"Changelog","previous_headings":"","what":"ggsegExtra 1.5.32","title":"ggsegExtra 1.5","text":"non-standard columns 3d atlas retained 2d atlas Freesurfer annotation file custom S3 class implemented progressbar region snapshots","code":""},{"path":"https://ggseg.github.io/ggsegExtra/news/index.html","id":"ggsegextra-1-5-2","dir":"Changelog","previous_headings":"","what":"ggsegExtra 1.5.3","title":"ggsegExtra 1.5","text":"creating ggseg3d-atlas annotation files creating ggseg3d-atlas volumetric files creating ggseg-atlas cortical ggseg3d-atlas creating ggseg-atlas volumetric files Added NEWS.md file track changes package.","code":""}]
